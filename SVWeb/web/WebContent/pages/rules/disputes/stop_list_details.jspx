<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:bm="http://www.bpc.ru/jsf/misc"
      xmlns:bre="http://www.bpc.ru/jsf/richfaces-ext"
      xmlns:fmt="http://www.bpc.ru/el/formatter">
    <f:view>
        <ui:composition>
            <f:loadBundle var="lblPrd" basename="ru.bpc.sv2.ui.bundles.Prd" />
            <f:loadBundle var="lblApp" basename="ru.bpc.sv2.ui.bundles.App"/>
            <f:loadBundle var="lblAcq" basename="ru.bpc.sv2.ui.bundles.Acq" />
            <f:loadBundle var="lblCrd" basename="ru.bpc.sv2.ui.bundles.Crd" />
            <f:loadBundle var="lblCommon" basename="ru.bpc.sv2.ui.bundles.Common" />
            <f:loadBundle var="lblRej" basename="ru.bpc.sv2.ui.bundles.Reject" />

            <h:form id="stopListDetailsForm">
                <h:panelGroup id="stopListDetailsWrapper" layout="block" styleClass="carddata-wrapper"
                              style="height: 100%; overflow-y: auto;overflow-x: hidden;position:relative;">
                    <rich:dataTable id="stopListDetailsTable"
                                    value="#{MbStopList.emptyTable}"
                                    var="field"
                                    styleClass="res-table noHeader"
                                    width="100%">
                        <rich:columnGroup rowClasses=",odd"
                                          columnClasses="firstCol alignLeft width20, width80 width250 noPadding">
                            <rich:column styleClass="detailsCategory expandedBranch">
                                <h:graphicImage url="/images/minus.gif" onclick="showHideDetails(this)"/>
                                <h:outputLabel value="#{lblPrd.general_data}:" />
                            </rich:column>
                            <rich:column>
                                <script>updateHeight();</script>
                            </rich:column>

                            <rich:column breakBefore="true">
                                <h:outputLabel value="#{lblCommon.id}: " title="#{lblCommon.id}" />
                            </rich:column>
                            <rich:column>
                                <h:outputLabel value="#{MbStopList.activeList.id}" title="#{MbStopList.activeList.id}" />
                            </rich:column>

                            <rich:column breakBefore="true">
                                <h:outputLabel value="#{lblRej.card_instance_id}: " title="#{lblRej.card_instance_id}" />
                            </rich:column>
                            <rich:column>
                                <h:outputLabel value="#{MbStopList.activeList.cardInstanceId}" title="#{MbStopList.activeList.cardInstanceId}" />
                            </rich:column>

                            <rich:column breakBefore="true">
                                <h:outputLabel value="#{lblCrd.card_number}: " title="#{lblCrd.card_number}" />
                            </rich:column>
                            <rich:column>
                                <h:outputLabel value="#{MbStopList.activeList.cardMask}" title="#{MbStopList.activeList.cardMask}" />
                            </rich:column>

                            <rich:column breakBefore="true">
                                <h:outputLabel value="#{lblCommon.exp_date}: " title="#{lblCommon.exp_date}" />
                            </rich:column>
                            <rich:column>
                                <h:outputLabel value="#{MbStopList.activeList.cardExpDate}" title="#{MbStopList.activeList.cardExpDate}" >
                                    <f:convertDateTime pattern="#{usession.expDatePattern}" timeZone="#{CommonUtils.timeZone}" />
                                </h:outputLabel>
                            </rich:column>

                            <rich:column breakBefore="true">
                                <h:outputLabel value="#{lblApp.service_regions}: " title="#{lblApp.service_regions}" />
                            </rich:column>
                            <rich:column>
                                <h:outputLabel value="#{MbStopList.activeList.regionList}" title="#{MbStopList.activeList.regionList}" />
                            </rich:column>

                            <rich:column breakBefore="true">
                                <h:outputLabel value="#{lblCommon.event_type}: " title="#{lblCommon.event_type}" />
                            </rich:column>
                            <rich:column>
                                <h:outputLabel value="#{MbStopList.activeList.eventType} - #{MbStopList.activeList.eventTypeDesc}"
                                               title="#{MbStopList.activeList.eventType} - #{MbStopList.activeList.eventTypeDesc}"
                                               rendered="#{MbStopList.activeList.eventType != null}"/>
                                <h:outputLabel value="" title="" rendered="#{MbStopList.activeList.eventType == null}"/>
                            </rich:column>

                            <rich:column breakBefore="true">
                                <h:outputLabel value="#{lblApp.event_date}: " title="#{lblApp.event_date}" />
                            </rich:column>
                            <rich:column>
                                <h:outputLabel value="#{MbStopList.activeList.eventDate}" title="#{MbStopList.activeList.eventDate}" >
                                    <f:convertDateTime pattern="#{usession.datePattern}" timeZone="#{CommonUtils.timeZone}" />
                                </h:outputLabel>
                            </rich:column>

                            <rich:column breakBefore="true">
                                <h:outputLabel value="#{lblApp.stop_list_type}: " title="#{lblApp.stop_list_type}" />
                            </rich:column>
                            <rich:column>
                                <h:outputLabel value="#{MbStopList.activeList.stopListType} - #{MbStopList.activeList.stopListTypeDesc}"
                                               title="#{MbStopList.activeList.stopListType} - #{MbStopList.activeList.stopListTypeDesc}"
                                               rendered="#{MbStopList.activeList.stopListType != null}"/>
                                <h:outputLabel value="" title="" rendered="#{MbStopList.activeList.stopListType == null}"/>
                            </rich:column>

                            <rich:column breakBefore="true">
                                <h:outputLabel value="#{lblApp.purge_date}: " title="#{lblApp.purge_date}" />
                            </rich:column>
                            <rich:column>
                                <h:outputLabel value="#{MbStopList.activeList.purgeDate}" title="#{MbStopList.activeList.purgeDate}" >
                                    <f:convertDateTime pattern="#{usession.datePattern}" timeZone="#{CommonUtils.timeZone}" />
                                </h:outputLabel>
                            </rich:column>

                            <rich:column breakBefore="true">
                                <h:outputLabel value="#{lblApp.action_code}: " title="#{lblApp.action_code}" />
                            </rich:column>
                            <rich:column>
                                <h:outputLabel value="#{MbStopList.activeList.reasonCode} - #{MbStopList.activeList.reasonCodeDesc}"
                                               title="#{MbStopList.activeList.reasonCode} - #{MbStopList.activeList.reasonCodeDesc}"
                                               rendered="#{MbStopList.activeList.reasonCode != null}"/>
                                <h:outputLabel value="" title="" rendered="#{MbStopList.activeList.reasonCode == null}"/>
                            </rich:column>

                            <rich:column breakBefore="true">
                                <h:outputLabel value="#{lblCommon.status}: " title="#{lblApp.status}" />
                            </rich:column>
                            <rich:column>
                                <h:outputLabel value="#{MbStopList.activeList.status} - #{MbStopList.activeList.statusDesc}"
                                               title="#{MbStopList.activeList.status} - #{MbStopList.activeList.statusDesc}"
                                               rendered="#{MbStopList.activeList.status != null}"/>
                                <h:outputLabel value="" title="" rendered="#{MbStopList.activeList.status == null}"/>
                            </rich:column>

                            <rich:column breakBefore="true">
                                <h:outputLabel value="#{lblCommon.product}: " title="#{lblCommon.product}" />
                            </rich:column>
                            <rich:column>
                                <h:outputLabel value="#{DictUtils.articlesByLang[MbStopList.curLang][MbStopList.activeList.product]}"
                                               title="#{DictUtils.articlesByLang[MbStopList.curLang][MbStopList.activeList.product]}"/>
                            </rich:column>
                        </rich:columnGroup>
                    </rich:dataTable>
                    <script>setDetailsState("stopListDetailsForm:stopListDetailsTable");</script>
                </h:panelGroup>
            </h:form>
        </ui:composition>
    </f:view>
</html>
