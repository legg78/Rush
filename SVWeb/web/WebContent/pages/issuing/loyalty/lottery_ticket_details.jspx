<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:bm="http://www.bpc.ru/jsf/misc"
      xmlns:bre="http://www.bpc.ru/jsf/richfaces-ext">
    <ui:composition>
        <h:form id="lotteryTicketDetailsForm">
            <h:panelGroup layout="block" styleClass="langSelector">
                <h:panelGrid id="detailsData"
                             columns="2"
                             styleClass="cardholderdata oneColumnTable"
                             columnClasses=",secondCol">
                    <h:outputLabel for="lang" value="#{lblCommon.lang_selector}: " title="#{lblCommon.lang_selector}" />
                    <h:selectOneMenu id="lang"
                                     disabled="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.id == null}"
                                     value="#{(detailsBean==null ? MbLotteryTickets : detailsBean).curLang}"
                                     valueChangeListener="#{(detailsBean==null ? MbLotteryTickets : detailsBean).changeLanguage}">
                        <a4j:support event="onchange"
                                     reRender="lotteryTicketDetailsForm"
                                     limitToList="true"
                                     oncomplete="updateHeight();"/>
                        <f:selectItems value="#{(detailsBean==null ? MbLotteryTickets : detailsBean).languages}" />
                    </h:selectOneMenu>
                </h:panelGrid>
            </h:panelGroup>

            <h:panelGroup id="cardDetailsWrapper"
                          layout="block"
                          style="height: 100%; overflow-y: auto;overflow-x: hidden;position:relative;"
                          styleClass="carddata-wrapper">
                <rich:dataTable id="cardDetailsTable"
                                styleClass="res-table noHeader" width="100%"
                                value="#{(detailsBean==null ? MbLotteryTickets : detailsBean).emptyTable}"
                                var="field">
                    <rich:columnGroup rowClasses=",odd"
                                      columnClasses="firstCol alignLeft width20, width80 width250 noPadding">
                        <rich:column styleClass="detailsCategory expandedBranch" style="min-width: 165px;">
                            <h:graphicImage url="/images/minus.gif" onclick="showHideDetails(this)"/>
                            <h:outputLabel value="#{lblPrd.general_data}:" />
                        </rich:column>
                        <rich:column>
                            <script>updateHeight();</script>
                        </rich:column>

                        <rich:column breakBefore="true">
                            <h:outputLabel value="#{lblCommon.id}:" title="#{lblCommon.id}"/>
                        </rich:column>
                        <rich:column>
                            <h:outputLabel value="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.id}"
                                           title="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.id}"/>
                        </rich:column>

                        <rich:column breakBefore="true">
                            <h:outputLabel value="#{lblCrd.seqnum}:" title="#{lblCrd.seqnum}"/>
                        </rich:column>
                        <rich:column>
                            <h:outputLabel value="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.seqNum}"
                                           title="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.seqNum}"/>
                        </rich:column>

                        <rich:column breakBefore="true">
                            <h:outputLabel value="#{lblCrd.seqnum}:" title="#{lblCrd.seqnum}"/>
                        </rich:column>
                        <rich:column>
                            <h:outputLabel value="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.seqNum}"
                                           title="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.seqNum}"/>
                        </rich:column>

                        <rich:column breakBefore="true">
                            <h:outputLabel value="#{lblIss.ticket_number}:" title="#{lblIss.ticket_number}"/>
                        </rich:column>
                        <rich:column>
                            <h:outputLabel value="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.ticketNumber}"
                                           title="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.ticketNumber}"/>
                        </rich:column>

                        <rich:column breakBefore="true">
                            <h:outputLabel value="#{lblCommon.status}:" title="#{lblCommon.status}"/>
                        </rich:column>
                        <rich:column>
                            <h:outputLabel value="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.status} -
                                                  #{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.statusDesc}"
                                           title="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.status} -
                                                  #{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.statusDesc}"/>
                        </rich:column>

                        <rich:column breakBefore="true">
                            <h:outputLabel value="#{lblApp.reg_date}:" title="#{lblApp.reg_date}"/>
                        </rich:column>
                        <rich:column>
                            <h:outputLabel value="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.registrationDate}"
                                           title="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.registrationDate}">
                                <f:convertDateTime pattern="#{usession.fullDatePatternSeconds}" timeZone="#{CommonUtils.timeZone}"/>
                            </h:outputLabel>
                        </rich:column>

                        <rich:column breakBefore="true">
                            <h:outputLabel value="#{lblCrd.card_uid}:" title="#{lblCrd.card_uid}"/>
                        </rich:column>
                        <rich:column>
                            <h:outputLabel value="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.cardId}"
                                           title="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.cardId}"/>
                        </rich:column>

                        <rich:column breakBefore="true">
                            <h:outputLabel value="#{lblCrd.card_number}:" title="#{lblCrd.card_number}"/>
                        </rich:column>
                        <rich:column>
                            <h:outputLabel value="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.cardMask}"
                                           title="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.cardMask}"/>
                        </rich:column>

                        <rich:column breakBefore="true">
                            <h:outputLabel value="#{lblRej.customer_id}:" title="#{lblRej.customer_id}"/>
                        </rich:column>
                        <rich:column>
                            <h:outputLabel value="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.customerId}"
                                           title="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.customerId}"/>
                        </rich:column>

                        <rich:column breakBefore="true">
                            <h:outputLabel value="#{lblPrd.customer_number}:" title="#{lblPrd.customer_number}"/>
                        </rich:column>
                        <rich:column>
                            <h:outputLabel value="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.customerNumber}"
                                           title="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.customerNumber}"/>
                        </rich:column>

                        <rich:column breakBefore="true">
                            <h:outputLabel value="#{lblIss.customer_name}:" title="#{lblIss.customer_name}"/>
                        </rich:column>
                        <rich:column>
                            <h:outputLabel value="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.customerInfo}"
                                           title="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.customerInfo}"/>
                        </rich:column>

                        <rich:column breakBefore="true">
                            <h:outputLabel value="#{lblIss.service_id}:" title="#{lblIss.service_id}"/>
                        </rich:column>
                        <rich:column>
                            <h:outputLabel value="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.serviceId}"
                                           title="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.serviceId}"/>
                        </rich:column>

                        <rich:column breakBefore="true">
                            <h:outputLabel value="#{lblCommon.institution}:" title="#{lblCommon.institution}"/>
                        </rich:column>
                        <rich:column>
                            <h:outputLabel value="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.instId} -
                                                  #{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.instName}"
                                           title="#{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.instId} -
                                                  #{(detailsBean==null ? MbLotteryTickets : detailsBean).activeLottetyTicket.instName}"/>
                        </rich:column>
                    </rich:columnGroup>
                </rich:dataTable>
            </h:panelGroup>
        </h:form>
    </ui:composition>
</html>