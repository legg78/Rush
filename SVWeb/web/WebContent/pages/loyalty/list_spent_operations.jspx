<?xml version="1.0" encoding="UTF-8"?>
<html	xmlns="http://www.w3.org/1999/xhtml"
         xmlns:f="http://java.sun.com/jsf/core"
         xmlns:h="http://java.sun.com/jsf/html"
         xmlns:ui="http://java.sun.com/jsf/facelets"
         xmlns:a4j="http://richfaces.org/a4j"
         xmlns:rich="http://richfaces.org/rich"
         xmlns:bm="http://www.bpc.ru/jsf/misc"
         xmlns:bre="http://www.bpc.ru/jsf/richfaces-ext"
         xmlns:fmt="http://www.bpc.ru/el/formatter">
<ui:composition>

    <f:loadBundle var="lblOpr" basename="ru.bpc.sv2.ui.bundles.Opr"/>
    <f:loadBundle var="lblAcq" basename="ru.bpc.sv2.ui.bundles.Acq"/>
    <f:loadBundle var="lblCommon" basename="ru.bpc.sv2.ui.bundles.Common"/>
    <f:loadBundle var="lblIss" basename="ru.bpc.sv2.ui.bundles.Iss"/>
    <f:loadBundle var="lblLty" basename="ru.bpc.sv2.ui.bundles.Lty"/>

    <h:form id="spentOperationsForm">
        <h:panelGroup id="spentOperationsTableWrapper" layout="block">
            <rich:extendedDataTable id="operationsTableSearch"
                                    styleClass="res-table" headerClass="res-table-header"
                                    rowClasses=",odd" selectedClass="res-table-selected" var="item"
                                    value="#{MbOperations.loyaltyOperations}"
                                    height="255px" selectionMode="single" width="100%"
            >
                <rich:column id="operId" label="#{lblCommon.id}" title="ID" width="10%">
                    <f:facet name="header">
                        <h:outputText value="#{lblCommon.id}" title="#{lblCommon.id}"/>
                    </f:facet>
                    <h:outputText value="#{item.operId}" title="#{item.operId}"/>
                </rich:column>

                <rich:column id="operType" label="#{lblOpr.oper_type}" title="Operation type" width="10%">
                    <f:facet name="header">
                        <h:outputText value="#{lblOpr.oper_type}" title="#{lblOpr.oper_type}"/>
                    </f:facet>
                    <h:outputText value="#{item.operType}" title="#{item.operType}"/>
                </rich:column>

                <rich:column id="operDate" label="#{lblOpr.oper_date}" title="Operation date" width="10%">
                    <f:facet name="header">
                        <h:outputText value="#{lblOpr.oper_date}" title="#{lblOpr.oper_date}"/>
                    </f:facet>
                    <h:outputText
                            value="#{fmt:formatDate(item.operDate, usession.fullDatePattern, CommonUtils.timeZoneId)}"
                            title="#{fmt:formatDate(item.operDate, usession.fullDatePattern, CommonUtils.timeZoneId)}"
                    />
                </rich:column>

                <rich:column id="operAmount" label="#{lblOpr.operation_amount}" title="Operation amount" width="10%">
                    <f:facet name="header">
                        <h:outputText value="#{lblOpr.operation_amount}" title="#{lblOpr.operation_amount}"/>
                    </f:facet>
                    <h:outputText value="#{item.operAmount}" title="#{item.operAmount}"/>
                </rich:column>

                <rich:column id="merchantId" label="#{lblAcq.merchant_id}" title="Merchant ID" width="10%">
                    <f:facet name="header">
                        <h:outputText value="#{lblAcq.merchant_id}" title="#{lblAcq.merchant_id}"/>
                    </f:facet>
                    <h:outputText value="#{item.merchantId}" title="#{item.merchantId}"/>
                </rich:column>

                <rich:column id="instId" label="#{lblCommon.inst_id}" title="Institution ID" width="5%">
                    <f:facet name="header">
                        <h:outputText value="#{lblCommon.inst_id}" title="#{lblCommon.inst_id}"/>
                    </f:facet>
                    <h:outputText value="#{item.instId}" title="#{item.instId}"/>
                </rich:column>

                <rich:column id="merchantNumber" label="#{lblAcq.merchant_number}" title="Merchant number" width="10%">
                    <f:facet name="header">
                        <h:outputText value="#{lblAcq.merchant_number}" title="#{lblAcq.merchant_number}"/>
                    </f:facet>
                    <h:outputText value="#{item.merchantNumber}" title="#{item.merchantNumber}"/>
                </rich:column>

                <rich:column id="merchantName" label="#{lblAcq.merchant_name}" title="Merchant name" width="10%">
                    <f:facet name="header">
                        <h:outputText value="#{lblAcq.merchant_name}" title="#{lblAcq.merchant_name}"/>
                    </f:facet>
                    <h:outputText value="#{item.merchantName}" title="#{item.merchantName}"/>
                </rich:column>

                <rich:column id="cardNumber" label="#{lblIss.card_number}" title="Card number" width="10%">
                    <f:facet name="header">
                        <h:outputText value="#{lblIss.card_number}" title="#{lblIss.card_number}"/>
                    </f:facet>
                    <h:outputText value="#{item.cardNumber}" title="#{item.cardNumber}"/>
                </rich:column>

                <rich:column id="authCode" label="#{lblOpr.auth_code}" title="Auth code" width="5%">
                    <f:facet name="header">
                        <h:outputText value="#{lblOpr.auth_code}" title="#{lblOpr.auth_code}"/>
                    </f:facet>
                    <h:outputText value="#{item.authCode}" title="#{item.authCode}"/>
                </rich:column>

                <rich:column id="rewardAmount" label="#{lblLty.reward_amount}" title="Reward amount" width="10%">
                    <f:facet name="header">
                        <h:outputText value="#{lblLty.reward_amount}" title="#{lblLty.reward_amount}"/>
                    </f:facet>
                    <h:outputText value="#{item.rewardAmount}" title="#{item.rewardAmount}"/>
                </rich:column>

            </rich:extendedDataTable>
        </h:panelGroup>
    </h:form>
</ui:composition>
</html>
