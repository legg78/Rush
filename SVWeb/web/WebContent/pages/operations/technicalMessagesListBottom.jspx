<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:bm="http://www.bpc.ru/jsf/misc"
	xmlns:bre="http://www.bpc.ru/jsf/richfaces-ext">
<ui:composition>
	
	<f:loadBundle var="lblOpr" basename="ru.bpc.sv2.ui.bundles.Opr" />

	<h:panelGrid columns="2" style="width:100%" cellpadding="0"
		cellspacing="0" columnClasses="top width30, top width70">
		<h:form id="techMessagesBtmForm">
			<h:outputText value="#{lblOpr.messages}:" />
			<h:panelGroup id="techMessagesTableWrapper" layout="block"
				style="padding:0px;margin:0px;">
				<rich:extendedDataTable id="techMessagesTable" styleClass="res-table"
					headerClass="res-table-header" rowClasses=",odd"
					selectedClass="res-table-selected" var="item"
					value="#{(technicalMessagesBean==null ? mbTechnicalMessages : technicalMessagesBean).msgs}" selection="#{(technicalMessagesBean==null ? mbTechnicalMessages : technicalMessagesBean).itemSelection}"
					selectionMode="single" enableContextMenu="false" rows="0"
					noDataLabel="#{lblCommon['no_records_found']}">

					<a4j:support event="onselectionchange"
								 reRender="technicalMessagesViewtechMessageDetailsBtmForm:technicalMessagesViewtechMessageDetailsTable"
								 limitToList="true" />
					
					<rich:column title="Name" width="95%" sortBy="#{'name'}">
						<f:facet name="header">
							<a4j:outputPanel layout="none">
								<script>updateHeight();</script>
								<h:outputText value="#{lblCommon.name}" title="#{lblCommon.name}" />
							</a4j:outputPanel>
						</f:facet>
						<h:outputText value="#{item.name} - #{item.type}" title="#{item.name} #{item.type}"
							/>
					</rich:column>

					

				</rich:extendedDataTable>
			</h:panelGroup>

			<h:panelGroup layout="block"
				styleClass="bottom_search_result_block_buttons">
				<h:panelGroup layout="block"
					styleClass="bottom_search_result_left_buttons">
					<h:panelGrid id="rulesBtnPanel" columns="3"
						style="vertical-align: top;" cellpadding="0" cellspacing="0">
						
					</h:panelGrid>
				</h:panelGroup>
			</h:panelGroup>
		</h:form>

		<ui:include src="/pages/operations/technicalMessageDetails.jspx">
			<ui:param name="viewId" value="technicalMessagesView"/>
		</ui:include>
	</h:panelGrid>

</ui:composition>
</html>
