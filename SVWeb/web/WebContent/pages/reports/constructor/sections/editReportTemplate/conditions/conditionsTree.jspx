<?xml version="1.0" encoding="UTF-8"?>
<html	xmlns="http://www.w3.org/1999/xhtml"
         xmlns:f="http://java.sun.com/jsf/core"
         xmlns:h="http://java.sun.com/jsf/html"
         xmlns:ui="http://java.sun.com/jsf/facelets"
         xmlns:a4j="http://richfaces.org/a4j"
         xmlns:rich="http://richfaces.org/rich"
         xmlns:bm="http://www.bpc.ru/jsf/misc"
         xmlns:bre="http://www.bpc.ru/jsf/richfaces-ext"
         xmlns:bpct="http://www.bpc.ru/jsf/tiles"
         xmlns:o="http://openfaces.org/"
         xmlns:c="http://java.sun.com/jstl/core">
<ui:composition>
    <f:loadBundle var="lblAcc" basename="ru.bpc.sv2.ui.bundles.Acc"/>
    <f:loadBundle var="lblIss" basename="ru.bpc.sv2.ui.bundles.Iss"/>
    <f:loadBundle var="lblPrd" basename="ru.bpc.sv2.ui.bundles.Prd"/>

            <o:treeTable id="condTreeTable" var="cond"
                         expansionState="allExpanded"
                         headerHorizSeparator="1px solid #D7DAC2"
                         headerVertSeparator="1px solid #D7DAC2"
                         headerSectionClass="res-tree-table-header"
                         commonHeaderRowClass="res-tree-table-header"
                         sortableHeaderClass="res-tree-table-header"
                         sortedColumnHeaderClass="res-tree-table-header"
                         sortableHeaderRolloverClass="res-tree-table-header"
                         styleClass="extdt-table-layout res-tree-table"
                         bodyOddRowClass="res-tree-table-row odd-tree-table"
                         bodyRowClass="res-tree-table-row" headerRowClass="res-tree-table-header"
                         verticalGridLines="1px solid #D7DAC2"
                         cellpadding="0" cellspacing="0"
                         preloadedNodes="all"
                         style="height:221px;"
                    >
                <o:scrolling/>
                <f:facet name="noDataMessage">
                    <h:panelGroup>
                        <h:outputText value="#{lblCommon['no_records_found']}"/>
                    </h:panelGroup>
                </f:facet>

                <o:dynamicTreeStructure
                        nodeChildren="#{MbReportTemplateTree.nodeChildren}"
                        nodeHasChildren="#{MbReportTemplateTree.nodeHasChildren}"
                        nodeKey="#{cond.modelId}"
                        />

                <o:singleNodeSelection
                        nodePath="#{MbReportTemplateTree.nodePath}"
                        nodeData="#{MbReportTemplateTree.currentTreeRow}"
                        keyboardSupport="false"
                        styleClass="treetable_selection"
                        enabled="#{!editReportTemplate.editMode}"
                        >
                    <a4j:support event="onchange" eventsQueue="queue"
                                 reRender="addEditButtons"/>
                </o:singleNodeSelection>
                <o:columnResizing resizeHandleWidth="10px" minColWidth="50px"/>
                <o:column id="id" width="5%">
                    <f:facet name="header">
                        <h:panelGroup>
                            <script>
                                updateHeight();
                            </script>
                            <h:outputText value="â„–"/>
                        </h:panelGroup>
                    </f:facet>
                    <h:outputText styleClass="treeTableText"
                                  value="#{cond.id}"
                                  title="#{cond.id}"/>
                </o:column>

                <o:treeColumn id="nodeName" width="95%">
                    <f:facet name="header">
                        <h:panelGroup>
                            <script>
                                updateHeight();
                            </script>
                            <h:outputText value="#{lblCommonQ.name}"/>
                        </h:panelGroup>
                    </f:facet>
                    <h:outputText styleClass="treeTableText"
                                  value="#{cond.parameterName}"
                                  title="#{cond.parameterName}"/>

                </o:treeColumn>
            </o:treeTable>

</ui:composition>
</html>
