<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:rich="http://richfaces.org/rich"
	  xmlns:a4j="http://richfaces.org/a4j"
	  xmlns:c="http://java.sun.com/jstl/core">

<!--@elvariable id="id" type="java.lang.String"-->
<!--@elvariable id="for" type="java.lang.String"-->
<!--@elvariable id="pageable" type="ru.bpc.sv2.ui.utils.model.IPageable"-->
<!--@elvariable id="reRender" type="java.lang.String"-->
<!--@elvariable id="maxPages" type="java.lang.Integer"-->
<ui:composition>
	<c:set var="dsPagesVarName" value="#{id}pages"/>
	<c:set var="dsMaxPages" value="#{maxPages == null ? 10 : maxPages}"/>
	<h:panelGroup id="#{id}" layout="block" styleClass="table_tools">
		<h:panelGrid styleClass="fw field-cont" columns="4"
					 columnClasses="per-page-lbl,per-page-sel,nav-cont,pagecount, table_tools_state">
			<h:outputLabel for="rows_num" value="#{lblCommon.rows_per_page}" title="#{lblCommon.rows_per_page}"/>
			<h:selectOneMenu id="rows_num" value="#{pageable.rowsPerPage}" styleClass="row_per_page">
				<a4j:support event="onchange" reRender="#{id},#{for},#{reRender}"/>
				<f:selectItems value="#{CommonUtils.rowNumsList}"/>
			</h:selectOneMenu>

			<rich:datascroller maxPages="#{dsMaxPages}" fastControls="hide"
							   pagesVar="#{dsPagesVarName}" styleClass="res-datascroller"
							   reRender="#{id},#{for},#{reRender}"
							   id="#{id}ds" for="#{for}" page="#{pageable.pageNo}">
				<f:facet name="first">
					<h:outputText value="&lt;&lt;" styleClass="prev-next"/>
				</f:facet>
				<f:facet name="first_disabled">
					<h:outputText value="&lt;&lt;" styleClass="prev-next-dis"/>
				</f:facet>
				<f:facet name="last">
					<h:outputText value="&gt;&gt;" styleClass="prev-next"/>
				</f:facet>
				<f:facet name="last_disabled">
					<h:outputText value="&gt;&gt;" styleClass="prev-next-dis"/>
				</f:facet>
				<f:facet name="previous">
					<h:outputText value="#{lblCommon.prev}" styleClass="prev-next"/>
				</f:facet>
				<f:facet name="previous_disabled">
					<h:outputText value="#{lblCommon.prev}" styleClass="prev-next-dis"/>
				</f:facet>
				<f:facet name="next">
					<h:outputText value="#{lblCommon.next}" styleClass="prev-next"/>
				</f:facet>
				<f:facet name="next_disabled">
					<h:outputText value="#{lblCommon.next}" styleClass="prev-next-dis"/>
				</f:facet>
				<f:facet name="pages">
				</f:facet>
			</rich:datascroller>

			<h:panelGroup id="pagesNum">
				<h:outputText styleClass="strongClass" value="#{requestScope[dsPagesVarName]}"/>
				<h:outputText value=" #{lblCommon.pages}"/>
				<h:outputText value="" style="padding-left: 20px; padding-right: 20px;"/>
				<h:outputText styleClass="strongClass" value="#{pageable.rowCount}"/>
				<h:outputText value=" #{lblCommon.records}"/>
				<h:outputText value="" style="padding-left: 20px; padding-right: 20px;"/>
			</h:panelGroup>
		</h:panelGrid>
	</h:panelGroup>
</ui:composition>

</html>