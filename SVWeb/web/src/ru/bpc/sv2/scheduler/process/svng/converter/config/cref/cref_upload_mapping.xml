<?xml version="1.0" encoding="UTF-8"?>
<transformation-map>
    <root>/card_statuses</root>
    <references-props>cref/cref_upload_references.properties</references-props>
    <is-full-paths>false</is-full-paths>
    <head>
        <start>FF45</start>
        <transform>
            <field-src>
                <name>Institution Number</name>
                <position/>
                <type>string</type>
                <length/>
                <pattern>DF8079</pattern>
            </field-src>
            <transform-method/>
            <field-dst>
                <position>
                    <xpath>/cards_info/inst_id</xpath>
                </position>
                <type>string</type>
                <length/>
                <pattern/>
            </field-dst>
        </transform>
        <transform>
            <field-src>
                <name>Tokenized PAN</name>
                <position/>
                <type>string</type>
                <length/>
                <pattern>DF876E</pattern>
            </field-src>
            <transform-method/>
            <field-dst>
                <position>
                    <xpath>/cards_info/tokenized_pan</xpath>
                </position>
                <type>string</type>
                <length/>
                <pattern/>
            </field-dst>
        </transform>
    </head>
    <base>
        <transform>
            <field-src>
                <name>Card Number</name>
                <type>string</type>
                <pattern>DF802C</pattern>
            </field-src>
            <field-dst>
                <position>
                    <xpath>/card_statuses/card_status/card_number</xpath>
                </position>
                <type>string</type>
            </field-dst>
        </transform>
        <transform>
            <field-src>
                <name>Card Id</name>
                <type>string</type>
                <pattern>DF8A13</pattern>
            </field-src>
            <field-dst>
                <position>
                    <xpath>/card_statuses/card_status/card_id</xpath>
                </position>
                <type>string</type>
            </field-dst>
        </transform>
        <transform>
            <field-src>
                <name>Card Sequence Number</name>
                <type>number</type>
                <pattern>DF8074</pattern>
            </field-src>
            <field-dst>
                <position>
                    <xpath>/card_statuses/card_status/seq_number</xpath>
                </position>
                <type>number</type>
            </field-dst>
        </transform>
        <transform>
            <field-src>
                <name>Expiration Date</name>
                <type>number</type>
                <pattern>DF8078</pattern>
            </field-src>
            <field-dst>
                <position>
                    <xpath>/card_statuses/card_status/expiration_date</xpath>
                </position>
                <type>date</type>
                <converter-class>com.bpcbt.sv.camel.converters.process.ConversionMMYYtoDate</converter-class>
            </field-dst>
        </transform>
        <transform>
            <field-src>
                <name>SVFE Hot Card Status</name>
                <type>string</type>
                <pattern>DF8076</pattern>
            </field-src>
            <transform-method>cref_status_code</transform-method>
            <field-dst>
                <position>
                    <xpath>/card_statuses/card_status/status</xpath>
                </position>
                <type>string</type>
            </field-dst>
        </transform>
        <transform>
            <field-src>
                <name>Status Reason</name>
                <type>string</type>
                <pattern>DF8454</pattern>
            </field-src>
            <transform-method>cref_status_reason_code</transform-method>
            <field-dst>
                <position>
                    <xpath>/card_statuses/card_status/status_reason</xpath>
                </position>
                <type>string</type>
            </field-dst>
        </transform>
        <transform>
            <field-src>
                <name>Record Processing Code</name>
                <type>string</type>
                <pattern>DF806E</pattern>
            </field-src>
            <transform-method>card_state_code</transform-method>
            <field-dst>
                <position>
                    <xpath>/card_statuses/card_status/state</xpath>
                </position>
                <type>string</type>
            </field-dst>
        </transform>
        <transform>
            <field-src>
                <name>Change date</name>
                <type>string</type>
                <pattern>DF855B</pattern>
            </field-src>
            <field-dst>
                <position>
                    <xpath>/card_statuses/card_status/change_date</xpath>
                </position>
                <type>date</type>
                <converter-class>com.bpcbt.sv.camel.converters.process.ConversionYYYYMMDDtoDate</converter-class>
            </field-dst>
        </transform>
        <transform>
            <field-src>
                <name>Initiator</name>
                <type>string</type>
                <pattern>DF855A</pattern>
            </field-src>
            <transform-method>initiator_to_dict</transform-method>
            <field-dst>
                <position>
                    <xpath>/card_statuses/card_status/initiator</xpath>
                </position>
                <type>string</type>
            </field-dst>
        </transform>
    </base>
    <end>
        <start>FF46</start>
    </end>
</transformation-map>