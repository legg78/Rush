<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="compare_tp_synt" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
    <property name="ireport.zoom" value="2.0"/>
    <property name="ireport.x" value="175"/>
    <property name="ireport.y" value="0"/>
    <style name="table">
        <box>
            <pen lineWidth="1.0" lineColor="#000000"/>
        </box>
    </style>
    <style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 1">
        <box>
            <pen lineWidth="1.0" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 1_TH" mode="Opaque" backcolor="#F0F8FF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 1_CH" mode="Opaque" backcolor="#BFE1FF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 1_TD" mode="Opaque" backcolor="#FFFFFF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 2">
        <box>
            <pen lineWidth="1.0" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 2_TH" mode="Opaque" backcolor="#F0F8FF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 2_CH" mode="Opaque" backcolor="#BFE1FF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 2_TD" mode="Opaque" backcolor="#FFFFFF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 3">
        <box>
            <pen lineWidth="1.0" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 3_TH" mode="Opaque" backcolor="#F0F8FF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 3_CH" mode="Opaque" backcolor="#BFE1FF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 3_TD" mode="Opaque" backcolor="#FFFFFF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 4">
        <box>
            <pen lineWidth="1.0" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 4_TH" mode="Opaque" backcolor="#F0F8FF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 4_CH" mode="Opaque" backcolor="#BFE1FF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 4_TD" mode="Opaque" backcolor="#FFFFFF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 5">
        <box>
            <pen lineWidth="1.0" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 5_TH" mode="Opaque" backcolor="#F0F8FF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 5_CH" mode="Opaque" backcolor="#BFE1FF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 5_TD" mode="Opaque" backcolor="#FFFFFF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <queryString language="xPath">
        <![CDATA[/compare_result/operations/operation/oper_type]]>
    </queryString>
    <field name="report_file_type" class="java.lang.String">
        <fieldDescription><![CDATA[/compare_result/header/report_file_type]]></fieldDescription>
    </field>
    <field name="effective_date" class="java.lang.String">
        <fieldDescription><![CDATA[/compare_result/header/effective_date]]></fieldDescription>
    </field>
    <field name="session_id" class="java.lang.String">
        <fieldDescription><![CDATA[/compare_result/header/session_id]]></fieldDescription>
    </field>
    <field name="session_date" class="java.lang.String">
        <fieldDescription><![CDATA[/compare_result/header/session_date]]></fieldDescription>
    </field>
    <field name="value" class="java.lang.String">
        <fieldDescription><![CDATA[@value]]></fieldDescription>
    </field>
    <field name="bank_id" class="java.lang.String">
        <fieldDescription><![CDATA[bank_id]]></fieldDescription>
    </field>
    <field name="field_a" class="java.lang.Long">
        <fieldDescription><![CDATA[field_a]]></fieldDescription>
    </field>
    <field name="field_aa" class="java.lang.Long">
        <fieldDescription><![CDATA[field_aa]]></fieldDescription>
    </field>
    <field name="field_b" class="java.lang.Long">
        <fieldDescription><![CDATA[field_b]]></fieldDescription>
    </field>
    <field name="field_bb" class="java.lang.Long">
        <fieldDescription><![CDATA[field_bb]]></fieldDescription>
    </field>
    <variable name="variable_a" class="java.lang.Number" resetType="Group" resetGroup="Oper_type" calculation="Sum">
        <variableExpression><![CDATA[$F{field_a}]]></variableExpression>
    </variable>
    <variable name="variable_aa" class="java.lang.Number" resetType="Group" resetGroup="Oper_type" calculation="Sum">
        <variableExpression><![CDATA[$F{field_aa}]]></variableExpression>
    </variable>
    <variable name="variable_b" class="java.lang.Number" resetType="Group" resetGroup="Oper_type" calculation="Sum">
        <variableExpression><![CDATA[$F{field_b}]]></variableExpression>
    </variable>
    <variable name="variable_bb" class="java.lang.Number" resetType="Group" resetGroup="Oper_type" calculation="Sum">
        <variableExpression><![CDATA[$F{field_bb}]]></variableExpression>
    </variable>
    <group name="Oper_type">
        <groupExpression><![CDATA[$F{value}]]></groupExpression>
        <groupHeader>
            <band height="19">
                <textField isBlankWhenNull="true">
                    <reportElement x="71" y="-1" width="51" height="20"/>
                    <textFieldExpression><![CDATA[$F{value}]]></textFieldExpression>
                </textField>
                <staticText>
                    <reportElement x="0" y="-1" width="71" height="20"/>
                    <text><![CDATA[Operation type:]]></text>
                </staticText>
            </band>
        </groupHeader>
        <groupFooter>
            <band height="21">
                <staticText>
                    <reportElement x="0" y="-1" width="53" height="20"/>
                    <text><![CDATA[Total]]></text>
                </staticText>
                <textField isBlankWhenNull="true">
                    <reportElement x="53" y="-1" width="123" height="20"/>
                    <textFieldExpression><![CDATA[$V{variable_a}]]></textFieldExpression>
                </textField>
                <textField isBlankWhenNull="true">
                    <reportElement x="175" y="-1" width="126" height="20"/>
                    <textFieldExpression><![CDATA[$V{variable_aa}]]></textFieldExpression>
                </textField>
                <textField isBlankWhenNull="true">
                    <reportElement x="300" y="-1" width="131" height="20"/>
                    <textFieldExpression><![CDATA[$V{variable_b}]]></textFieldExpression>
                </textField>
                <textField isBlankWhenNull="true">
                    <reportElement x="430" y="-1" width="125" height="20"/>
                    <textFieldExpression><![CDATA[$V{variable_bb}]]></textFieldExpression>
                </textField>
            </band>
        </groupFooter>
    </group>
    <background>
        <band splitType="Stretch"/>
    </background>
    <title>
        <band height="43" splitType="Stretch">
            <textField isBlankWhenNull="true">
                <reportElement x="398" y="0" width="157" height="20" isPrintWhenDetailOverflows="true"/>
                <textElement textAlignment="Left" verticalAlignment="Middle">
                    <font size="10"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{effective_date}]]></textFieldExpression>
            </textField>
            <staticText>
                <reportElement x="0" y="0" width="147" height="20"/>
                <textElement verticalAlignment="Middle">
                    <font isBold="true"/>
                </textElement>
                <text><![CDATA[Compare TP operation with ]]></text>
            </staticText>
            <textField>
                <reportElement x="146" y="0" width="58" height="20"/>
                <textElement verticalAlignment="Middle"/>
                <textFieldExpression><![CDATA[$F{report_file_type}]]></textFieldExpression>
            </textField>
            <staticText>
                <reportElement x="203" y="0" width="100" height="20"/>
                <textElement verticalAlignment="Middle"/>
                <text><![CDATA[file data]]></text>
            </staticText>
            <staticText>
                <reportElement x="0" y="19" width="147" height="20"/>
                <textElement verticalAlignment="Middle">
                    <font isBold="true"/>
                </textElement>
                <text><![CDATA[Session day:]]></text>
            </staticText>
            <textField>
                <reportElement x="146" y="19" width="157" height="20"/>
                <textElement verticalAlignment="Middle"/>
                <textFieldExpression><![CDATA[$F{session_date}]]></textFieldExpression>
            </textField>
        </band>
    </title>
    <pageHeader>
        <band height="4" splitType="Stretch"/>
    </pageHeader>
    <columnHeader>
        <band height="20" splitType="Stretch">
            <staticText>
                <reportElement x="0" y="0" width="53" height="20"/>
                <text><![CDATA[Bank code]]></text>
            </staticText>
            <textField>
                <reportElement x="52" y="0" width="125" height="20"/>
                <textFieldExpression><![CDATA[$F{report_file_type}.equals("SYNTR") ? "TP CR" : "TP count"]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="176" y="0" width="126" height="20"/>
                <textFieldExpression><![CDATA[$F{report_file_type}.equals("SYNTR") ? "TP DR" : "TP Sum"]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="301" y="0" width="130" height="20"/>
                <textFieldExpression><![CDATA[$F{report_file_type}.equals("SYNTR") ? $F{report_file_type} + " CR" : $F{report_file_type} + " count"]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="431" y="0" width="124" height="20"/>
                <textFieldExpression><![CDATA[$F{report_file_type}.equals("SYNTR") ? $F{report_file_type} + " DR" : $F{report_file_type} + " Sum"]]></textFieldExpression>
            </textField>
        </band>
    </columnHeader>
    <detail>
        <band height="19" splitType="Stretch">
            <textField isBlankWhenNull="true">
                <reportElement x="0" y="-1" width="53" height="20"/>
                <textFieldExpression><![CDATA[$F{bank_id}]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="true">
                <reportElement x="53" y="-1" width="123" height="20"/>
                <textFieldExpression><![CDATA[$F{field_a}]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="true">
                <reportElement x="175" y="0" width="126" height="19"/>
                <textFieldExpression><![CDATA[$F{field_aa}]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="true">
                <reportElement x="300" y="0" width="131" height="19"/>
                <textFieldExpression><![CDATA[$F{field_b}]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="true">
                <reportElement x="430" y="0" width="125" height="19"/>
                <textFieldExpression><![CDATA[$F{field_bb}]]></textFieldExpression>
            </textField>
        </band>
    </detail>
    <columnFooter>
        <band height="31" splitType="Stretch"/>
    </columnFooter>
    <pageFooter>
        <band splitType="Stretch"/>
    </pageFooter>
    <summary>
        <band height="71" splitType="Stretch"/>
    </summary>
</jasperReport>
