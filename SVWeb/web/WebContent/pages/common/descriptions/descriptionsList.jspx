<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
	  xmlns:bre="http://www.bpc.ru/jsf/richfaces-ext">
<ui:composition>


	<h:panelGroup styleClass="search_result_block" layout="block">
    	<h:panelGroup styleClass="search_result_block_left fix-ff" layout="block">
		    <rich:extendedDataTable
					id="mainTable"
					styleClass="res-table" 
					headerClass="res-table-header"
					rowClasses=",odd"
					selectedClass="res-table-selected"  
					var="item"
					value="#{MbDescription.descriptions}"
					selection="#{MbDescription.itemSelection}"
					rows="20" 
					height="255px"
					selectionMode="single"
					width="100%"
					enableContextMenu="false">
		           
				<a4j:support event="onselectionchange" ignoreDupResponses="true"
						reRender="details" limitToList="true"/>
	           
				<rich:column title="Id" sortExpression="asc" sortBy="#{'id'}" width="10%">
                    <f:facet name="header">
                    	<h:outputText value="#{lblCommon.id}" title="#{lblCommon.id}" />
                    </f:facet>
                	<h:outputText value="#{item.descId}" />
				</rich:column>
                
		        <rich:column title="Short Description" id="shortDesc" sortBy="#{'shortDesc'}" width="30%">
		           <f:facet name="header">
	                    <h:outputText value="Short Description" title="Short Description"/>
	                </f:facet>
	                <h:outputText value="#{item.shortDesc}" />
		        </rich:column>
		        
		        <rich:column title="Full Description" width="60%">
		           <f:facet name="header">
	                    <h:outputText value="Full Description" title="Full Description"/>
	                </f:facet>
	                <h:outputText value="#{item.fullDesc}" />
		        </rich:column>

		    </rich:extendedDataTable>
		    <a4j:outputPanel ajaxRendered="true">
			    <h:graphicImage url="/_img/hd_searchblock.gif" styleClass="hd-searchblock"/>
			    <h:panelGroup styleClass="collapse-vert" layout="block"/>
		    </a4j:outputPanel>				    
	    </h:panelGroup>
	</h:panelGroup>

    <h:panelGroup layout="block" styleClass="bottom_search_result_block">
		<h:panelGroup layout="block" styleClass="bottom_search_result_left">
        	<h:panelGroup layout="block" styleClass="table_tools">
	        	<h:panelGrid styleClass="fw field-cont" columns="4" 
	        			id="dataScroller"
	        			columnClasses="per-page-lbl,per-page-sel,nav-cont,pagecount">
		        	<h:outputLabel for="rows_num" value="#{lblCommon.rows_per_page}" title="#{lblCommon.rows_per_page}"/>
                       <h:selectOneMenu id="rows_num" value="20" style="width:40px" >
                        		<f:selectItems value="#{CommonUtils.rowNumsList}"/>
                    </h:selectOneMenu>				         
  	
                    <rich:datascroller maxPages="10" fastControls="hide"
                    		pagesVar="pages" styleClass="res-datascroller"
		                    id="ds" for="mainTable">
		            	<f:facet name="first">
		                	<h:outputText value="&lt;&lt;" styleClass="prev-next" />
						</f:facet>
		                <f:facet name="first_disabled">
		                    <h:outputText value="&lt;&lt;" styleClass="prev-next-dis" />
		                </f:facet>
		                <f:facet name="last">
		                    <h:outputText  value="&gt;&gt;" styleClass="prev-next" />
		                </f:facet>
		                <f:facet name="last_disabled">
		                    <h:outputText value="&gt;&gt;" styleClass="prev-next-dis" />
		                </f:facet>
		                <f:facet name="previous">
							<h:outputText value="#{lblCommon.prev}" styleClass="prev-next" />
		                </f:facet>
		                <f:facet name="previous_disabled">
		                	<h:outputText value="#{lblCommon.prev}" styleClass="prev-next-dis" />
		                </f:facet>
		                <f:facet name="next">
		                	<h:outputText value="#{lblCommon.next}" styleClass="prev-next" />
		                </f:facet>
		                <f:facet name="next_disabled">
		                	<h:outputText value="#{lblCommon.next}" styleClass="prev-next-dis" />
		                </f:facet>
		                <f:facet name="pages">							                        
		                </f:facet>
					</rich:datascroller>
                    
                    <h:panelGroup>
                       	<h:outputText styleClass="strongClass" value="#{pages} "/>
                       	<h:outputText value=" #{lblCommon.pages}"/>
                    </h:panelGroup>
				</h:panelGrid>
			</h:panelGroup>
                       
            <h:panelGrid id="btnPanel" columns="3" styleClass="buttons_block">
				<h:panelGroup styleClass="stdButton">
					<bre:taggedCommandButton value="Export" 
							action="#{MbDescription.export}" immediate="true"
							/>
				</h:panelGroup>
				<h:panelGroup styleClass="stdButton">
					<bre:taggedCommandButton value="Import" 
							onclick="alert('Not implemented yet');" immediate="true"
							/>
				</h:panelGroup>
			</h:panelGrid>
		</h:panelGroup>
    </h:panelGroup>			    
</ui:composition>
</html>
