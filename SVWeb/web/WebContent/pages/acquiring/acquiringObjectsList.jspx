<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
	  xmlns:bre="http://www.bpc.ru/jsf/richfaces-ext">
<ui:composition>
	<rich:modalPanel id="acqPreSelectModalPanel" autosized="true" minWidth="600" minHeight="280">
      	<f:facet name="header">
        	<h:outputText value="#{lblForm.select_object}"/>
        </f:facet>
  	    <f:facet name="controls">
      	</f:facet>
   		<h:form id="acqPreSelectModalForm">
	   		<rich:panel style="margin: 10px">
				<rich:extendedDataTable
				        id="acqObjsTable"
					    var="item"
					    tableState="#{MbAcquiringHierarchySearch.tableState}"
					    value="#{MbAcquiringHierarchySearch.acqObjs}"
						selection="#{MbAcquiringHierarchySearch.itemSelection}"
					    rows="0"
					    height="220px"
					    selectionMode="single"
				        rowClasses=",odd"
				        headerClass="res-table-header"
						selectedClass="res-table-selected" 
						styleClass="res-table"
						enableContextMenu="false"
						noDataLabel="#{lblCommon['no_records_found']}">
			
					<a4j:support event="onselectionchange" ignoreDupResponses="true" 
			           		reRender="acqBtns" />
			
					<rich:column id="id" label="#{lblCommon.id}" title="ID" styleClass="tab_res_first" width="20%">
			           	<f:facet name="header">
			                   <h:outputText value="#{lblCommon.id}" title="#{lblCommon.id}" />
			               </f:facet>
			               <h:outputText value="#{item.id}" title="#{item.id}"/>
			        </rich:column>
			
			        <rich:column id="name" label="#{lblCommon.name}" title="Name" width="80%">
			           	<f:facet name="header">
			                   <h:outputText value="#{lblCommon.name}" title="#{lblCommon.name}" />
			               </f:facet>
			               <h:outputText value="#{item.name}" title="#{item.name}"/>
			        </rich:column>
				</rich:extendedDataTable>
      	    </rich:panel>
      	    <h:panelGroup layout="block" styleClass="bottom_search_result_block_buttons">
				<h:panelGroup layout="block" styleClass="bottom_search_result_left_buttons">
	       	    	<h:panelGrid columns="3" id="acqBtns" columnClasses="width99P,,paddingR12">
	       	    		<h:outputText/>
						<bre:taggedCommandButton value="#{lblForm.select}" 
								action="#{MbAcquiringHierarchySearch.select}" 
								disabled="#{MbAcquiringHierarchySearch.activeAcqObj == null}"
								reRender="#{rerenderList}"
								onclick="disableModalPanelBtns(this);"
								oncomplete="if (#{usession.noErrorResponse}) #{rich:component('acqPreSelectModalPanel')}.hide(); enableModalPanelBtns(this);"
								eventsQueue="queue"/>
	                	<bre:taggedCommandButton
		                       	value="#{lblForm.cancel}" action="#{MbAcquiringHierarchySearch.cancel}"
		                       	immediate="true" limitToList="true"
		                       	oncomplete="#{rich:component('acqPreSelectModalPanel')}.hide()"
		                       	/>
					</h:panelGrid>
				</h:panelGroup>
			</h:panelGroup>
   	    </h:form>
	</rich:modalPanel>

</ui:composition>
</html>
