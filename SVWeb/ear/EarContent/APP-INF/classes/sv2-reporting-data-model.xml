<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<reporting-data-model>

	<resources>

		<resource-bundle id="msg">
			<base-name>ru.bpc.sv2.ui.bundles.Rptcm</base-name>
		</resource-bundle>

		<datasource id="sv2">
			<jndi>java:comp/env/jdbc/SVWeb</jndi>
		</datasource>

	</resources>

	<report-datasource ds-ref="sv2"/>
    <optimization-hint hint-text="/*+ LEADING(OPR_OPERATION ISSUER_PARTICIPANT)*/"/>

    <types>
		<type id="string" class-name="ru.jtsoft.dynamicreports.model.types.StringType"/>

        <type id="number" class-name="ru.jtsoft.dynamicreports.model.types.NumberType"/>

		<type id="dictionarydate" class-name="ru.jtsoft.dynamicreports.model.types.DictionaryDateType">
			<values ds-ref="sv2">sql:
				select 1 as key, 'sysdate' as value, a.text as descr
				from com_i18n a, com_label b
				where b.id = a.object_id
					  and a.table_name = 'COM_LABEL'
					  and upper(b.name) = upper('rptcm.SYSTEM_DATE')
					  and a.lang = com_ui_user_env_pkg.get_user_lang
				union
				select 2 as key, 'TRUNC(sysdate, ''MONTH'')' as value, a.text as descr
				from com_i18n a, com_label b
				where b.id = a.object_id
					  and a.table_name = 'COM_LABEL'
					  and upper(b.name) = upper('rptcm.MONTH_BEGINNING')
					  and a.lang = com_ui_user_env_pkg.get_user_lang
				union
				select 3 as key, 'TRUNC(sysdate, ''YEAR'')' as value, a.text as descr
				from com_i18n a, com_label b
				where b.id = a.object_id
					  and a.table_name = 'COM_LABEL'
					  and upper(b.name) = upper('rptcm.YEAR_BEGINNING')
					  and a.lang = com_ui_user_env_pkg.get_user_lang
				union
				select 4 as key, 'TRUNC(sysdate, ''D'') + 1' as value, a.text as descr
				from com_i18n a, com_label b
				where b.id = a.object_id
					  and a.table_name = 'COM_LABEL'
					  and upper(b.name) = upper('rptcm.WEEK_BEGINNING')
					  and a.lang = com_ui_user_env_pkg.get_user_lang
				union
				select 5 as key, 'add_months(sysdate, -6)' as value, a.text as descr
				from com_i18n a, com_label b
				where b.id = a.object_id
					  and a.table_name = 'COM_LABEL'
					  and upper(b.name) = upper('rptcm.HALF_YEAR_AGO')
					  and a.lang = com_ui_user_env_pkg.get_user_lang
				union
				select 6 as key, 'TRUNC(sysdate, ''D'') - 3' as value, a.text as descr
				from com_i18n a, com_label b
				where b.id = a.object_id
					  and a.table_name = 'COM_LABEL'
					  and upper(b.name) = upper('rptcm.FRIDAY_PREV_WEEK')
					  and a.lang = com_ui_user_env_pkg.get_user_lang
			</values>
		</type>
		
		<type id="amount" class-name="ru.jtsoft.dynamicreports.model.types.AmountType"/>
		
	</types>

	<parameters>
        <parameter id="CARD_NETWORK">
            <label rb-ref="msg">CARD_NETWORK</label>
            <values ds-ref="sv2">sql:
                select m.id as key, m.id as value, m.id || ' - ' || r.text as descr
                from net_network m
                left join com_i18n r on  m.id =  r.object_id and r.table_name = 'NET_NETWORK' and r.column_name = 'NAME' and  r.lang = com_ui_user_env_pkg.get_user_lang
                order by m.id
            </values>
        </parameter>

        <parameter id="MERCHANT_COUNTRY">
            <label rb-ref="msg">MERCHANT_COUNTRY</label>
            <values ds-ref="sv2">sql:
                select code as key, code as value, code || ' - ' || text as descr
                from com_country m
                join com_i18n c on c.table_name = 'COM_COUNTRY' and c.column_name = 'NAME' and c.object_id = m.id where
                c.lang = com_ui_user_env_pkg.get_user_lang
                order by text
            </values>
        </parameter>
        <parameter id="INST_ID">
            <label rb-ref="msg">INST_ID</label>
            <values ds-ref="sv2">sql:
                SELECT
                a.id as key,
                a.id as value,
                a.id || ' - ' || c.text as descr
                FROM OST_INSTITUTION a  join com_i18n c on  c.object_id = a.id where  c.lang = com_ui_user_env_pkg.get_user_lang and c.table_name = 'OST_INSTITUTION' and c.column_name = 'NAME' order by a.id
            </values>
        </parameter>

		<parameter id="ARN">
			<label rb-ref="msg">ARN</label>
		</parameter>

		<parameter id="DISPUTE_ID">
			<label rb-ref="msg">DISPUTE_ID</label>
		</parameter>

		<parameter id="FORW_INST_BIN">
			<label rb-ref="msg">FORW_INST_BIN</label>
		</parameter>

		<parameter id="OPERATION_ID">
			<label rb-ref="msg">OPERATION_ID</label>
		</parameter>
		
		<parameter id="PAYMENT_ORDER_ID">
			<label rb-ref="msg">PAYMENT_ORDER_ID</label>
		</parameter>

		<parameter id="MCC">
			<label rb-ref="msg">MCC</label>
			<values ds-ref="sv2">sql:
					select mcc as key, mcc as value, mcc || ' - ' || text as descr 
				      from com_mcc m  
				      left join com_i18n c on c.table_name = 'COM_MCC' and c.column_name = 'NAME' and c.object_id = m.id
				      order by text
			</values>
		</parameter>

		<parameter id="OPER_CASHBACK_AMOUNT">
			<label rb-ref="msg">OPER_CASHBACK_AMOUNT</label>
			<type>amount</type>
			<expression>
				<jasper-expression>new BigDecimal($F{OPER_CASHBACK_AMOUNT}).movePointLeft(2).setScale(2)</jasper-expression>
			</expression>
		</parameter>
		
		<parameter id="OPER_COUNT">
			<label rb-ref="msg">OPER_COUNT</label>
		</parameter>
		
		<parameter id="OPER_REPLACEMENT_AMOUNT">
			<label rb-ref="msg">OPER_REPLACEMENT_AMOUNT</label>
			<type>amount</type>
			<expression>
				<jasper-expression>new BigDecimal($F{OPER_REPLACEMENT_AMOUNT}).movePointLeft(2).setScale(2)</jasper-expression>
			</expression>
		</parameter>
		
		<parameter id="OPER_AMOUNT">
			<label rb-ref="msg">OPER_AMOUNT</label>
			<type>amount</type>
			<expression>
				<jasper-expression>new BigDecimal($F{OPER_AMOUNT}).movePointLeft(2).setScale(2)</jasper-expression>
			</expression>
		</parameter>
				
		
		<parameter id="POS_ENTRY_MODE">
			<label rb-ref="msg">POS_ENTRY_MODE</label>
		</parameter>
		
		<parameter id="ORIGINATOR_REFNUM">
			<label rb-ref="msg">ORIGINATOR_REFNUM</label>
		</parameter>
		
		<parameter id="TERMINAL_OUTPUT_CAP">
			<label rb-ref="msg">TERMINAL_OUTPUT_CAP</label>
			<values ds-ref="sv2">sql:
				select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'F22B' and c.lang = com_ui_user_env_pkg.get_user_lang
				order by text			
			</values>
		</parameter>
		
		<parameter id="MERCHANT_ADDRESS">
			<label rb-ref="msg">MERCHANT_ADDRESS</label>
			<formatter>
				<java-class>ru.jtsoft.dynamicreports.report.formatters.NewLineFormatter</java-class>
			</formatter>
		</parameter>

		<parameter id="ACQ_INST_BIN">
			<label rb-ref="msg">ACQ_INST_BIN</label>
		</parameter>
		
		<parameter id="OPER_AMOUNT_ALGORITHM">
			<label rb-ref="msg">OPER_AMOUNT_ALGORITHM</label>
			<values ds-ref="sv2">sql:
				select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'OALG' and c.lang = com_ui_user_env_pkg.get_user_lang
				order by text
			</values>
		</parameter>	
		
		<parameter id="OPER_CURRENCY">
			<label rb-ref="msg">OPER_CURRENCY</label>
			<values ds-ref="sv2">sql:
				select code as key, code as value, code || ' - ' || name as descr from COM_CURRENCY order by code
			</values>
		</parameter>	
		
		<parameter id="STTL_CURRENCY">
			<label rb-ref="msg">STTL_CURRENCY</label>
			<values ds-ref="sv2">sql:
				select code as key, code as value, code || ' - ' || name as descr from COM_CURRENCY order by code
			</values>
		</parameter>	
		
		<parameter id="OPER_DATE">
			<label rb-ref="msg">OPER_DATE</label>
			<type>dictionarydate</type>
			<expression>
				<jasper-expression>new SimpleDateFormat("yyyy-MM-dd HH-mm-ss").format($F{OPER_DATE})</jasper-expression>
			</expression>
		</parameter>	
		
		<parameter id="CRDH_AUTH_CAP">
			<label rb-ref="msg">CRDH_AUTH_CAP</label>
			<values ds-ref="sv2">sql:
				select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'F222' and c.lang = com_ui_user_env_pkg.get_user_lang
				order by text
			</values>
		</parameter>	
		
		<parameter id="CARD_DATA_INPUT_CAP">
			<label rb-ref="msg">CARD_DATA_INPUT_CAP</label>
			<values ds-ref="sv2">sql:
				select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'F221' and c.lang = com_ui_user_env_pkg.get_user_lang
				order by text
			</values>
		</parameter>	
		
		<parameter id="CARD_DATA_OUTPUT_CAP">
			<label rb-ref="msg">CARD_DATA_OUTPUT_CAP</label>
			<values ds-ref="sv2">sql:
				select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'F22A' and c.lang = com_ui_user_env_pkg.get_user_lang
				order by text
			</values>
		</parameter>	
		
		<parameter id="CARD_CAPTURE_CAP">
			<label rb-ref="msg">CARD_CAPTURE_CAP</label>
			<values ds-ref="sv2">sql:
				select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'F223' and c.lang = com_ui_user_env_pkg.get_user_lang
				order by text
			</values>
		</parameter>	
		
		
		<parameter id="PIN_CAPTURE_CAP">
			<label rb-ref="msg">PIN_CAPTURE_CAP</label>
			<values ds-ref="sv2">sql:
				select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'F22C' and c.lang = com_ui_user_env_pkg.get_user_lang
				order by text
			</values>
		</parameter>	
					
		<parameter id="EMV_DATA">
			<label rb-ref="msg">EMV_DATA</label>
			<formatter>
				<java-class>ru.jtsoft.dynamicreports.report.formatters.NewLineFormatter</java-class>
			</formatter>
		</parameter>				


		<parameter id="HOST_DATE">
			<label rb-ref="msg">HOST_DATE</label>
			<type>dictionarydate</type>
			<expression>
				<jasper-expression>new SimpleDateFormat("yyyy-MM-dd HH-mm-ss").format($F{HOST_DATE})</jasper-expression>
			</expression>
		</parameter>	

		<parameter id="POSTING_DATE">
			<label rb-ref="msg">POSTING_DATE</label>
			<type>dictionarydate</type>
			<expression>
				<jasper-expression>new SimpleDateFormat("yyyy-MM-dd HH-mm-ss").format($F{POSTING_DATE})</jasper-expression>
			</expression>
		</parameter>	
		
		<parameter id="UNHOLD_DATE">
			<label rb-ref="msg">UNHOLD_DATE</label>
			<type>dictionarydate</type>
			<expression>
				<jasper-expression>new SimpleDateFormat("yyyy-MM-dd HH-mm-ss").format($F{UNHOLD_DATE})</jasper-expression>
			</expression>
		</parameter>
				
		<parameter id="ADDL_DATA">
			<label rb-ref="msg">ADDL_DATA</label>
			<formatter>
				<java-class>ru.jtsoft.dynamicreports.report.formatters.NewLineFormatter</java-class>
			</formatter>
		</parameter>
 
		<parameter id="IS_COMPLETED">
			<label rb-ref="msg">IS_COMPLETED</label>
			<values ds-ref="sv2">sql:
				select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'CMPF' 
				order by text
			</values>
		</parameter>	
		
		<parameter id="OPER_REQUEST_AMOUNT">
			<label rb-ref="msg">OPER_REQUEST_AMOUNT</label>
			<type>amount</type>
			<expression>
				<jasper-expression>new BigDecimal($F{OPER_REQUEST_AMOUNT}).movePointLeft(2).setScale(2)</jasper-expression>
			</expression>
		</parameter>
		
		<parameter id="ORIGINAL_ID">
			<label rb-ref="msg">ORIGINAL_ID</label>
		</parameter>
		
		<parameter id="MATCH_ID">
			<label rb-ref="msg">MATCH_ID</label>
		</parameter>

		<parameter id="CARD_UID">
			<label rb-ref="msg">CARD_UID</label>
		</parameter>
		
		<parameter id="CVC_INDICATOR">
			<label rb-ref="msg">CVC_INDICATOR</label>
		</parameter>	
		
		<parameter id="UCAF_INDICATOR">
			<label rb-ref="msg">UCAF_INDICATOR</label>
			<values ds-ref="sv2">sql:
				select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'UCAF' 
				order by text
			</values>
		</parameter>	
		
		<parameter id="AUTH_CODE">
			<label rb-ref="msg">AUTH_CODE</label>
		</parameter>	
		
		
		<parameter id="RESP_CODE">
			<label rb-ref="msg">RESP_CODE</label>
			<values ds-ref="sv2">sql:
       			select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'RESP' AND c.lang = com_ui_user_env_pkg.get_user_lang
				order by text
			</values>
		</parameter>		
		
		
		<parameter id="POS_COND_CODE">
			<label rb-ref="msg">POS_COND_CODE</label>
		</parameter>									
		
		<parameter id="CRDH_AUTH_METHOD">
			<label rb-ref="msg">CRDH_AUTH_METHOD</label>
			<values ds-ref="sv2">sql:
 		       select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'F228' AND c.lang = com_ui_user_env_pkg.get_user_lang
				order by text
			</values>
		</parameter>		

		<parameter id="CERTIFICATE_METHOD">
			<label rb-ref="msg">CERTIFICATE_METHOD</label>
			<values ds-ref="sv2">sql:
        		select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'CRTM'
				order by text
			</values>
		</parameter>
		
		<parameter id="MERCHANT_NAME">
			<label rb-ref="msg">MERCHANT_NAME</label>
		</parameter>

        <parameter id="MERCHANT_CITY">
            <label rb-ref="msg">MERCHANT_CITY</label>
            <formatter>
                <java-class>ru.jtsoft.dynamicreports.report.formatters.NewLineFormatter</java-class>
            </formatter>
        </parameter>

        <parameter id="CVV2_PRESENCE">
			<label rb-ref="msg">CVV2_PRESENCE</label>
			<values ds-ref="sv2">sql:
			    select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'CV2P'
				order by text	
			</values>
		</parameter>	

		<parameter id="PIN_PRESENCE">
			<label rb-ref="msg">PIN_PRESENCE</label>
			<values ds-ref="sv2">sql:
			    select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'PINP'
				order by text	
			</values>
		</parameter>
		
		<parameter id="CARD_PRESENCE">
			<label rb-ref="msg">CARD_PRESENCE</label>
			<values ds-ref="sv2">sql:
        		select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'F226' AND c.lang = com_ui_user_env_pkg.get_user_lang
				order by text	
			</values>
		</parameter>		

		<parameter id="CARD_NUMBER">
			<label rb-ref="msg">CARD_NUMBER</label>
			<formatter>
				<java-class>ru.jtsoft.dynamicreports.report.formatters.MaskPanFormatter</java-class>
			</formatter>
		</parameter>
		
		<parameter id="OPERATION_CARD_NUMBER">
			<label rb-ref="msg">OPERATION_CARD_NUMBER</label>
		</parameter>
		
		<parameter id="OPERATION_CARD_EXPIRY_DATE">
			<label rb-ref="msg">OPERATION_CARD_EXPIRY_DATE</label>
			<type>dictionarydate</type>
			<expression>
				<jasper-expression>new SimpleDateFormat("yyyy-MM-dd").format($F{OPERATION_CARD_EXPIRY_DATE})</jasper-expression>
			</expression>
		</parameter>
		
		<parameter id="ACCOUNT_NUMBER">
			<label rb-ref="msg">ACCOUNT_NUMBER</label>
		</parameter>

        <parameter id="CUSTOMER_ID">
            <label rb-ref="msg">CUSTOMER_ID</label>
        </parameter>
		
		<parameter id="TERMINAL_NUMBER" wrap-column-by="TRIM">
			<label rb-ref="msg">TERMINAL_NUMBER</label>
		</parameter>

		<parameter id="MERCHANT_NUMBER">
			<label rb-ref="msg">MERCHANT_NUMBER</label>
		</parameter>
	
		<parameter id="PAYMENT_HOST_ID">
			<label rb-ref="msg">PAYMENT_HOST_ID</label>
		</parameter>
		
		<parameter id="IS_REPEAT">
			<label rb-ref="msg">IS_REPEAT</label>
			<values>map: 1:Да, 0:Нет</values>
		</parameter>
				
		<parameter id="CRDH_PRESENCE">
			<label rb-ref="msg">CRDH_PRESENCE</label>
			<values ds-ref="sv2">sql:
        		select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'F225' AND c.lang = com_ui_user_env_pkg.get_user_lang
				order by text	
			</values>
		</parameter>					
		
		<parameter id="OPER_REASON">
			<label rb-ref="msg">OPER_REASON</label>
		</parameter>
		
		<parameter id="STATUS_REASON">
			<label rb-ref="msg">STATUS_REASON</label>
		</parameter>
				
				
		<parameter id="TERM_OPERATING_ENV">
			<label rb-ref="msg">TERM_OPERATING_ENV</label>
			<values ds-ref="sv2">sql:
        		select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'F224' AND c.lang = com_ui_user_env_pkg.get_user_lang
				order by text	
			</values>
		</parameter>			
		
		<parameter id="IS_EARLY_EMV">
			<label rb-ref="msg">IS_EARLY_EMV</label>
			<values>map: 1:Да, 0:Нет</values>
		</parameter>		

		<parameter id="CARD_DATA_INPUT_MODE">
			<label rb-ref="msg">CARD_DATA_INPUT_MODE</label>
			<values ds-ref="sv2">sql:
        		select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'F227' AND c.lang = com_ui_user_env_pkg.get_user_lang
				order by text	
			</values>
		</parameter>	

		<parameter id="PROC_MODE">
			<label rb-ref="msg">PROC_MODE</label>
			<values ds-ref="sv2">sql:
        		select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'AUPM' AND c.lang = com_ui_user_env_pkg.get_user_lang
				order by text	
			</values>
		</parameter>			
		

		<parameter id="CVV2_RESULT">
			<label rb-ref="msg">CVV2_RESULT</label>
			<values ds-ref="sv2">sql:
        		select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'CV2R'
				order by text	
			</values>
		</parameter>		
		
		
		<parameter id="ACQ_DEVICE_PROC_RESULT">
			<label rb-ref="msg">ACQ_DEVICE_PROC_RESULT</label>
		</parameter>
		
		<parameter id="TVR">
			<label rb-ref="msg">TVR</label>
		</parameter>
		
		<parameter id="CVR">
			<label rb-ref="msg">CVR</label>
		</parameter>
		
		<parameter id="ARN">
			<label rb-ref="msg">ARN</label>
		</parameter>
		
		
		<parameter id="SERVICE_CODE">
			<label rb-ref="msg">SERVICE_CODE</label>
		</parameter>
						
		<parameter id="CARDHOLDER_CERTIF">
			<label rb-ref="msg">CARDHOLDER_CERTIF</label>
		</parameter>
		
		<parameter id="MERCHANT_CERTIF">
			<label rb-ref="msg">MERCHANT_CERTIF</label>
		</parameter>								
	
		<parameter id="CARD_EXPIR_DATE">
			<label rb-ref="msg">CARD_EXPIR_DATE</label>
			<type>dictionarydate</type>
			<expression>
				<jasper-expression>new SimpleDateFormat("yyyy-MM-dd").format($F{CARD_EXPIR_DATE})</jasper-expression>
			</expression>
		</parameter>								
				
		<parameter id="CARD_STATUS">
			<label rb-ref="msg">CARD_STATUS</label>
			<values ds-ref="sv2">sql:
			select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'CSTS' AND c.lang = com_ui_user_env_pkg.get_user_lang
				order by text
			</values>			
		</parameter>
		
		<parameter id="MATCH_STATUS">
			<label rb-ref="msg">MATCH_STATUS</label>
			<values ds-ref="sv2">sql:
			select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'MTST' AND c.lang = com_ui_user_env_pkg.get_user_lang
				order by text
			</values>			
		</parameter>	

	
	<parameter id="OPER_SURCHARGE_AMOUNT">
			<label rb-ref="msg">OPER_SURCHARGE_AMOUNT</label>
			<type>amount</type>
			<expression>
				<jasper-expression>new BigDecimal($F{OPER_SURCHARGE_AMOUNT}).movePointLeft(2).setScale(2)</jasper-expression>
			</expression>	
	</parameter>
	
	<parameter id="STTL_AMOUNT">
			<label rb-ref="msg">STTL_AMOUNT</label>
			<type>amount</type>
			<expression>
				<jasper-expression>new BigDecimal($F{STTL_AMOUNT}).movePointLeft(2).setScale(2)</jasper-expression>
			</expression>	
	</parameter>	
	
	<parameter id="ACCOUNT_AMOUNT">
			<label rb-ref="msg">ACCOUNT_AMOUNT</label>
			<type>amount</type>
			<expression>
				<jasper-expression>new BigDecimal($F{ACCOUNT_AMOUNT}).movePointLeft(2).setScale(2)</jasper-expression>
			</expression>	
	</parameter>		

	<parameter id="CRDH_AUTH_ENTITY">
		<label rb-ref="msg">CRDH_AUTH_ENTITY</label>
		<values ds-ref="sv2">sql:
		select dict || code as key, dict || code as value, code || ' - ' || text as descr
			from com_dictionary d 
			join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
			where d.dict = 'F229' AND c.lang = com_ui_user_env_pkg.get_user_lang
			order by text
		</values>			
	</parameter>	

	
	<parameter id="ATC">
		<label rb-ref="msg">ATC</label>
	</parameter>		

	<parameter id="CARD_TYPE_ID">
		<label rb-ref="msg">CARD_TYPE_ID</label>
		<values ds-ref="sv2">sql:
        select t.id as key, t.id as value, t.id || ' - ' || text as descr 
        from net_card_type t join com_i18n c on c.table_name = 'NET_CARD_TYPE' and c.column_name = 'NAME' and c.object_id = t.id
		</values>			
	</parameter>			

	<parameter id="PROC_TYPE">
		<label rb-ref="msg">PROC_TYPE</label>
		<values ds-ref="sv2">sql:
		select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'AUPT' AND c.lang = com_ui_user_env_pkg.get_user_lang
				order by text
		</values>			
	</parameter>	

	<parameter id="OPER_TYPE">
		<label rb-ref="msg">OPER_TYPE</label>
		<values ds-ref="sv2">sql:
		select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'OPTP' AND c.lang = com_ui_user_env_pkg.get_user_lang
				order by text
		</values>			
	</parameter>	

	<parameter id="STTL_TYPE">
		<label rb-ref="msg">STTL_TYPE</label>
		<values ds-ref="sv2">sql:
		select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'STTT' AND c.lang = com_ui_user_env_pkg.get_user_lang
				order by text
		</values>			
	</parameter>		
			

	<parameter id="CERTIFICATE_TYPE">
		<label rb-ref="msg">CERTIFICATE_TYPE</label>
		<values ds-ref="sv2">sql:
		select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'CRTT' 
				order by text
		</values>			
	</parameter>	
	
	<parameter id="MSG_TYPE">
		<label rb-ref="msg">MSG_TYPE</label>
		<values ds-ref="sv2">sql:
		select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'MSGT' 
				order by text
		</values>			
	</parameter>					
			
		
		<parameter id="IS_ADVICE">
			<label rb-ref="msg">IS_ADVICE</label>
			<values>map: 1:Да, 0:Нет</values>
		</parameter>
		
	
	<parameter id="CAT_LEVEL">
		<label rb-ref="msg">CAT_LEVEL</label>
		<values ds-ref="sv2">sql:
		select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'F22D' AND c.lang = com_ui_user_env_pkg.get_user_lang
				order by text
		</values>			
	</parameter>						
			
	
	<parameter id="TERMINAL_TYPE">
		<label rb-ref="msg">TERMINAL_TYPE</label>
		<values ds-ref="sv2">sql:
		select dict || code as key, dict || code as value, code || ' - ' || text as descr
				from com_dictionary d 
				join com_i18n c on c.table_name = 'COM_DICTIONARY' and c.column_name = 'NAME' and c.object_id = d.id 
				where d.dict = 'TRMT' AND c.lang = com_ui_user_env_pkg.get_user_lang
				order by text
		</values>			
	</parameter>
			
			
				
	</parameters>
 

	<parameter-relational-mapping>

		<parameter-entry-map parameter-ref="DISPUTE_ID">
			<table>OPR_OPERATION</table>
			<column>DISPUTE_ID</column>
		</parameter-entry-map>

		<parameter-entry-map parameter-ref="FORW_INST_BIN">
			<table>OPR_OPERATION</table>
			<column>FORW_INST_BIN</column>
		</parameter-entry-map>

		<parameter-entry-map parameter-ref="OPERATION_ID">
			<table>OPR_OPERATION</table>
			<column>ID</column>
		</parameter-entry-map>

		<parameter-entry-map parameter-ref="PAYMENT_ORDER_ID">
			<table>OPR_OPERATION</table>
			<column>PAYMENT_ORDER_ID</column>
		</parameter-entry-map>

		<parameter-entry-map parameter-ref="MCC">
			<table>OPR_OPERATION</table>
			<column>MCC</column>
		</parameter-entry-map>

		<parameter-entry-map parameter-ref="OPER_CASHBACK_AMOUNT">
			<table>OPR_OPERATION</table>
			<column>OPER_CASHBACK_AMOUNT</column>
		</parameter-entry-map>
				
		<parameter-entry-map parameter-ref="OPER_COUNT">
			<table>OPR_OPERATION</table>
			<column>OPER_COUNT</column>
		</parameter-entry-map>
		
		<parameter-entry-map parameter-ref="OPER_REPLACEMENT_AMOUNT">
			<table>OPR_OPERATION</table>
			<column>OPER_REPLACEMENT_AMOUNT</column>
		</parameter-entry-map>
		
		<parameter-entry-map parameter-ref="OPER_AMOUNT">
			<table>OPR_OPERATION</table>
			<column>OPER_AMOUNT</column>
		</parameter-entry-map>
				
		<parameter-entry-map parameter-ref="POS_ENTRY_MODE">
			<table>AUT_AUTH</table>
			<column>POS_ENTRY_MODE</column>
		</parameter-entry-map>
		
		<parameter-entry-map parameter-ref="ORIGINATOR_REFNUM">
			<table>OPR_OPERATION</table>
			<column>ORIGINATOR_REFNUM</column>
		</parameter-entry-map>
		
		<parameter-entry-map parameter-ref="TERMINAL_OUTPUT_CAP">
			<table>AUT_AUTH</table>
			<column>TERMINAL_OUTPUT_CAP</column>
		</parameter-entry-map>
		
		<parameter-entry-map parameter-ref="MERCHANT_ADDRESS">
			<table>OPR_UI_MERCHANT_ADDRESS_VW</table>
			<column>MERCHANT_ADDRESS</column>
			<expression></expression>
		</parameter-entry-map>
		
		<parameter-entry-map parameter-ref="OPER_AMOUNT_ALGORITHM">
			<table>OPR_OPERATION</table>
			<column>OPER_AMOUNT_ALGORITHM</column>
		</parameter-entry-map>
		
		<parameter-entry-map parameter-ref="ACQ_INST_BIN">
			<table>OPR_OPERATION</table>
			<column>ACQ_INST_BIN</column>
		</parameter-entry-map>

		<parameter-entry-map parameter-ref="OPER_CURRENCY">
			<table>OPR_OPERATION</table>
			<column>OPER_CURRENCY</column>
		</parameter-entry-map>

		<parameter-entry-map parameter-ref="STTL_CURRENCY">
			<table>OPR_OPERATION</table>
			<column>STTL_CURRENCY</column>
		</parameter-entry-map>

        <parameter-entry-map parameter-ref="MERCHANT_CITY">
            <table>OPR_OPERATION</table>
            <column>MERCHANT_CITY</column>
        </parameter-entry-map>

		<parameter-entry-map parameter-ref="OPER_DATE" indexed="true">
			<table>OPR_OPERATION</table>
			<column>OPER_DATE</column>
		</parameter-entry-map>

		<parameter-entry-map parameter-ref="CRDH_AUTH_CAP">
			<table>ACQ_TERMINAL</table>
			<column>CRDH_AUTH_CAP</column>
		</parameter-entry-map>

		<parameter-entry-map parameter-ref="CARD_DATA_INPUT_CAP">
			<table>ACQ_TERMINAL</table>
			<column>CARD_DATA_INPUT_CAP</column>
		</parameter-entry-map>
		
		<parameter-entry-map parameter-ref="CARD_DATA_OUTPUT_CAP">
			<table>ACQ_TERMINAL</table>
			<column>CARD_DATA_OUTPUT_CAP</column>
		</parameter-entry-map>
		
		<parameter-entry-map parameter-ref="CARD_CAPTURE_CAP">
			<table>ACQ_TERMINAL</table>
			<column>CARD_CAPTURE_CAP</column>
		</parameter-entry-map>
		
		<parameter-entry-map parameter-ref="PIN_CAPTURE_CAP">
			<table>ACQ_TERMINAL</table>
			<column>PIN_CAPTURE_CAP</column>
		</parameter-entry-map>						

		<parameter-entry-map parameter-ref="EMV_DATA">
			<table>AUT_AUTH</table>
			<column>EMV_DATA</column>
		</parameter-entry-map>

		<parameter-entry-map parameter-ref="HOST_DATE">
			<table>OPR_OPERATION</table>
			<column>HOST_DATE</column>
		</parameter-entry-map>
		
		<parameter-entry-map parameter-ref="POSTING_DATE">
			<table>CRD_PAYMENT</table>
			<column>POSTING_DATE</column>
		</parameter-entry-map>
		
		<parameter-entry-map parameter-ref="UNHOLD_DATE">
			<table>OPR_OPERATION</table>
			<column>UNHOLD_DATE</column>
		</parameter-entry-map>
	
		<parameter-entry-map parameter-ref="ADDL_DATA">
			<table>AUT_AUTH</table>
			<column>ADDL_DATA</column>
		</parameter-entry-map>

		<parameter-entry-map parameter-ref="IS_COMPLETED">
			<table>AUT_AUTH</table>
			<column>IS_COMPLETED</column>
		</parameter-entry-map>

		<parameter-entry-map parameter-ref="OPER_REQUEST_AMOUNT">
			<table>OPR_OPERATION</table>
			<column>OPER_REQUEST_AMOUNT</column>
		</parameter-entry-map>

		<parameter-entry-map parameter-ref="ORIGINAL_ID">
			<table>OPR_OPERATION</table>
			<column>ORIGINAL_ID</column>
		</parameter-entry-map>
		
		<parameter-entry-map parameter-ref="MATCH_ID">
			<table>OPR_OPERATION</table>
			<column>MATCH_ID</column>
		</parameter-entry-map>
		
		<parameter-entry-map parameter-ref="CVC_INDICATOR">
			<table>AUT_AUTH</table>
			<column>CVC_INDICATOR</column>
		</parameter-entry-map>
	
		<parameter-entry-map parameter-ref="UCAF_INDICATOR">
			<table>AUT_AUTH</table>
			<column>UCAF_INDICATOR</column>
		</parameter-entry-map>

        <parameter-entry-map parameter-ref="INST_ID">
            <table>OPR_PARTICIPANT</table>
            <column>CARD_INST_ID</column>
            <alias>ISSUER_PARTICIPANT</alias>
        </parameter-entry-map>

		<parameter-entry-map parameter-ref="AUTH_CODE">
			<table>OPR_PARTICIPANT</table>
			<column>AUTH_CODE</column>
			<alias>ISSUER_PARTICIPANT</alias>
		</parameter-entry-map>
		
		<parameter-entry-map parameter-ref="CARD_NUMBER">
			<table>ISS_CARD_NUMBER</table>
			<column>CARD_NUMBER</column>
			<alias>ISSUER_ISS_CARD_NUMBER</alias>
		</parameter-entry-map>

		<parameter-entry-map parameter-ref="CARD_UID">
			<table>ISS_CARD_INSTANCE</table>
			<column>CARD_UID</column>
			<alias>ISSUER_ISS_CARD_INSTANCE</alias>
		</parameter-entry-map>

		<parameter-entry-map parameter-ref="ACCOUNT_NUMBER">
			<table>OPR_PARTICIPANT</table>
			<column>ACCOUNT_NUMBER</column>
			<alias>ISSUER_PARTICIPANT</alias>
		</parameter-entry-map>

        <parameter-entry-map parameter-ref="CUSTOMER_ID">
            <table>PRD_CUSTOMER</table>
            <column>CUSTOMER_NUMBER</column>
            <alias>PRD_CUSTOMER</alias>
        </parameter-entry-map>

		
<!-- - -->
		<parameter-entry-map parameter-ref="RESP_CODE">
			<table>AUT_AUTH</table>
			<column>RESP_CODE</column>
		</parameter-entry-map>
		<parameter-entry-map parameter-ref="POS_COND_CODE">
			<table>AUT_AUTH</table>
			<column>POS_COND_CODE</column>
		</parameter-entry-map>
		<parameter-entry-map parameter-ref="CRDH_AUTH_METHOD">
			<table>AUT_AUTH</table>
			<column>CRDH_AUTH_METHOD</column>
		</parameter-entry-map>
		<parameter-entry-map parameter-ref="CERTIFICATE_METHOD">
			<table>AUT_AUTH</table>
			<column>CERTIFICATE_METHOD</column>
		</parameter-entry-map>
		<parameter-entry-map parameter-ref="MERCHANT_NAME">
			<table>OPR_OPERATION</table>
			<column>MERCHANT_NAME</column>
		</parameter-entry-map>
		<parameter-entry-map parameter-ref="CVV2_PRESENCE">
			<table>AUT_AUTH</table>
			<column>CVV2_PRESENCE</column>
		</parameter-entry-map>
		<parameter-entry-map parameter-ref="PIN_PRESENCE">
			<table>AUT_AUTH</table>
			<column>PIN_PRESENCE</column>
		</parameter-entry-map>
		<parameter-entry-map parameter-ref="CARD_PRESENCE">
			<table>AUT_AUTH</table>
			<column>CARD_PRESENCE</column>
		</parameter-entry-map>

<!--  -->

		<parameter-entry-map parameter-ref="TERMINAL_NUMBER">
			<table>OPR_OPERATION</table>
			<column>TERMINAL_NUMBER</column>
		</parameter-entry-map>


		<parameter-entry-map parameter-ref="MERCHANT_NUMBER">
			<table>OPR_OPERATION</table>
			<column>MERCHANT_NUMBER</column>
		</parameter-entry-map>

        <parameter-entry-map parameter-ref="CARD_NETWORK">
            <table>OPR_PARTICIPANT</table>
            <column>NETWORK_ID</column>
            <alias>ACQ_PARTICIPANT</alias>
        </parameter-entry-map>

		<parameter-entry-map parameter-ref="PAYMENT_HOST_ID">
			<table>OPR_OPERATION</table>
			<column>PAYMENT_HOST_ID</column>
		</parameter-entry-map>					
				
		<parameter-entry-map parameter-ref="IS_REPEAT">
			<table>AUT_AUTH</table>
			<column>IS_REPEAT</column>
		</parameter-entry-map>				
		
		<parameter-entry-map parameter-ref="CRDH_PRESENCE">
			<table>AUT_AUTH</table>
			<column>CRDH_PRESENCE</column>
		</parameter-entry-map>			

		<parameter-entry-map parameter-ref="OPER_REASON">
			<table>OPR_OPERATION</table>
			<column>OPER_REASON</column>
		</parameter-entry-map>					
								
		<parameter-entry-map parameter-ref="STATUS_REASON">
			<table>OPR_OPERATION</table>
			<column>STATUS_REASON</column>
		</parameter-entry-map>	
		
		<parameter-entry-map parameter-ref="TERM_OPERATING_ENV">
			<table>ACQ_TERMINAL</table>
			<column>TERM_OPERATING_ENV</column>
		</parameter-entry-map>	

		<parameter-entry-map parameter-ref="IS_EARLY_EMV">
			<table>AUT_AUTH</table>
			<column>IS_EARLY_EMV</column>
		</parameter-entry-map>			

		<parameter-entry-map parameter-ref="CARD_DATA_INPUT_MODE">
			<table>AUT_AUTH</table>
			<column>CARD_DATA_INPUT_MODE</column>
		</parameter-entry-map>		

		<parameter-entry-map parameter-ref="PROC_MODE">
			<table>AUT_AUTH</table>
			<column>PROC_MODE</column>
		</parameter-entry-map>		

		<parameter-entry-map parameter-ref="CVV2_RESULT">
			<table>AUT_AUTH</table>
			<column>CVV2_RESULT</column>
		</parameter-entry-map>		

		<parameter-entry-map parameter-ref="ACQ_DEVICE_PROC_RESULT">
			<table>AUT_AUTH</table>
			<column>ACQ_DEVICE_PROC_RESULT</column>
		</parameter-entry-map>

		<parameter-entry-map parameter-ref="CARD_STATUS">
			<table>ISS_CARD_INSTANCE</table>
			<column>STATUS</column>
			<alias>ISSUER_ISS_CARD_INSTANCE</alias>
		</parameter-entry-map>

        <parameter-entry-map parameter-ref="MERCHANT_COUNTRY">
            <table>OPR_OPERATION</table>
            <column>MERCHANT_COUNTRY</column>
        </parameter-entry-map>

		<parameter-entry-map parameter-ref="CARD_EXPIR_DATE">
			<table>ISS_CARD_INSTANCE</table>
			<column>EXPIR_DATE</column>
			<alias>ISSUER_ISS_CARD_INSTANCE</alias>
		</parameter-entry-map>

		<parameter-entry-map parameter-ref="MERCHANT_CERTIF">
			<table>AUT_AUTH</table>
			<column>MERCHANT_CERTIF</column>
		</parameter-entry-map>		
	
		<parameter-entry-map parameter-ref="CARDHOLDER_CERTIF">
			<table>AUT_AUTH</table>
			<column>CARDHOLDER_CERTIF</column>
		</parameter-entry-map>		
		
		<parameter-entry-map parameter-ref="SERVICE_CODE">
			<table>AUT_AUTH</table>
			<column>SERVICE_CODE</column>
		</parameter-entry-map>	

		<parameter-entry-map parameter-ref="ACCOUNT_AMOUNT">
			<table>OPR_PARTICIPANT</table>
			<column>ACCOUNT_AMOUNT</column>
			<alias>ISSUER_PARTICIPANT</alias>
		</parameter-entry-map>	

		<parameter-entry-map parameter-ref="MATCH_STATUS">
			<table>OPR_OPERATION</table>
			<column>MATCH_STATUS</column>
		</parameter-entry-map>	
					
	
		<parameter-entry-map parameter-ref="STTL_AMOUNT">
			<table>OPR_OPERATION</table>
			<column>STTL_AMOUNT</column>
		</parameter-entry-map>		
		
		<parameter-entry-map parameter-ref="OPER_SURCHARGE_AMOUNT">
			<table>OPR_OPERATION</table>
			<column>OPER_SURCHARGE_AMOUNT</column>
		</parameter-entry-map>		
		
		
		<parameter-entry-map parameter-ref="CRDH_AUTH_ENTITY">
			<table>ACQ_TERMINAL</table>
			<column>CRDH_AUTH_ENTITY</column>
		</parameter-entry-map>		
		
		<parameter-entry-map parameter-ref="ATC">
			<table>AUT_AUTH</table>
			<column>ATC</column>
		</parameter-entry-map>			
	

		<parameter-entry-map parameter-ref="CARD_TYPE_ID">
			<table>OPR_PARTICIPANT</table>
			<column>CARD_TYPE_ID</column>
			<alias>ISSUER_PARTICIPANT</alias>
		</parameter-entry-map>	
				
		<parameter-entry-map parameter-ref="PROC_TYPE">
			<table>AUT_AUTH</table>
			<column>PROC_TYPE</column>
		</parameter-entry-map>					


		<parameter-entry-map parameter-ref="OPER_TYPE">
			<table>OPR_OPERATION</table>
			<column>OPER_TYPE</column>
		</parameter-entry-map>		
		
	
		<parameter-entry-map parameter-ref="STTL_TYPE">
			<table>OPR_OPERATION</table>
			<column>STTL_TYPE</column>
		</parameter-entry-map>					
	
		<parameter-entry-map parameter-ref="CERTIFICATE_TYPE">
			<table>AUT_AUTH</table>
			<column>CERTIFICATE_TYPE</column>
		</parameter-entry-map>	
	
		<parameter-entry-map parameter-ref="MSG_TYPE">
			<table>OPR_OPERATION</table>
			<column>MSG_TYPE</column>
		</parameter-entry-map>	
	
		<parameter-entry-map parameter-ref="IS_ADVICE">
			<table>AUT_AUTH</table>
			<column>IS_ADVICE</column>
		</parameter-entry-map>
				
		<parameter-entry-map parameter-ref="CAT_LEVEL">
			<table>AUT_AUTH</table>
			<column>CAT_LEVEL</column>
		</parameter-entry-map>			
	
		<parameter-entry-map parameter-ref="CVR">
			<table>AUT_AUTH</table>
			<column>CVR</column>
		</parameter-entry-map>		
		
		<parameter-entry-map parameter-ref="TVR">
			<table>AUT_AUTH</table>
			<column>TVR</column>
		</parameter-entry-map>		
	
		<parameter-entry-map parameter-ref="TERMINAL_TYPE">
			<table>OPR_OPERATION</table>
			<column>TERMINAL_TYPE</column>
		</parameter-entry-map>		
					
		<parameter-entry-map parameter-ref="OPERATION_CARD_EXPIRY_DATE">
			<table>OPR_PARTICIPANT</table>
			<column>CARD_EXPIR_DATE</column>
			<alias>OPR_CARD_OPERATION</alias>
		</parameter-entry-map>	
					
		<parameter-entry-map parameter-ref="OPERATION_CARD_NUMBER">
			<table>OPR_PARTICIPANT</table>
			<column>CARD_MASK</column>
			<alias>OPR_CARD_OPERATION</alias>
		</parameter-entry-map>	
		
		<parameter-entry-map parameter-ref="ARN">
			<table>OPR_UI_ARN_FIN_MESSAGE_VW</table>
			<column>ARN</column>
		</parameter-entry-map>		
					
		
		
						
		<table-joins>
			<join-entry>
				<source table="OPR_OPERATION" alias="OPR_OPERATION">
					<column>ID</column>
				</source>
				<target table="OPR_PARTICIPANT" alias="OPR_CARD_OPERATION">
					<column>OPER_ID</column>
					<expression>OPR_CARD_OPERATION.PARTICIPANT_TYPE = 'PRTYISS' AND OPR_CARD_OPERATION.CLIENT_ID_TYPE = 'CITPCARD'</expression>
				</target>
			</join-entry> 
		
			<join-entry>
				<source table="OPR_OPERATION" alias="OPR_OPERATION">
					<column>ID</column>
				</source>
				<target table="OPR_UI_ARN_FIN_MESSAGE_VW">
					<column>OPER_ID</column>
				</target>
			</join-entry> 
				
		
			<join-entry>
				<source table="OPR_OPERATION" alias="OPR_OPERATION">
					<column>ID</column>
				</source>
				<target table="AUT_AUTH">
					<column>ID</column>
				</target>
			</join-entry> 
			<join-entry>
				<source table="OPR_OPERATION" alias="OPR_OPERATION">
					<column>TERMINAL_NUMBER</column>
				</source>
				<target table="ACQ_TERMINAL">
					<column>TERMINAL_NUMBER</column>
				</target>
			</join-entry> 
			<join-entry left-join="true">
				<source table="OPR_OPERATION" alias="OPR_OPERATION">
					<column>ID</column>
				</source>
				<target table="CRD_PAYMENT">
					<column>OPER_ID</column>
				</target>
			</join-entry>

            <join-entry left-join="true">
                <source table="OPR_PARTICIPANT" alias="ISSUER_PARTICIPANT">
                    <column>CUSTOMER_ID</column>
                </source>
                <target table="PRD_CUSTOMER" alias="PRD_CUSTOMER">
                    <column>ID</column>
                </target>
            </join-entry>

			<join-entry>
				<source table="OPR_OPERATION" alias="OPR_OPERATION">
					<column>ID</column>
				</source>
				<target table="OPR_PARTICIPANT" alias="ISSUER_PARTICIPANT">
					<column>OPER_ID</column>
					<expression>ISSUER_PARTICIPANT.PARTICIPANT_TYPE = 'PRTYISS'</expression>
				</target>
			</join-entry>
            <join-entry>
                <source table="OPR_OPERATION" alias="OPR_OPERATION">
                    <column>ID</column>
                </source>
                <target table="OPR_PARTICIPANT" alias="ACQ_PARTICIPANT">
                    <column>OPER_ID</column>
                    <expression>ACQ_PARTICIPANT.PARTICIPANT_TYPE = 'PRTYACQ'</expression>
                </target>
            </join-entry>
			<join-entry>
				<source table="OPR_PARTICIPANT" alias="ISSUER_PARTICIPANT">
					<column>CARD_ID</column>
				</source>
				<target table="ISS_CARD_NUMBER" alias="ISSUER_ISS_CARD_NUMBER">
					<column>CARD_ID</column>
				</target>
			</join-entry>  
			
			<join-entry>
				<source table="OPR_PARTICIPANT" alias="ISSUER_PARTICIPANT">
					<column>CARD_ID</column>
				</source>
				<target table="ISS_CARD_INSTANCE" alias="ISSUER_ISS_CARD_INSTANCE">
					<column>CARD_ID</column>
				</target>
			</join-entry>

            <join-entry>
				<source table="ISS_CARD_NUMBER" alias="ISSUER_ISS_CARD_NUMBER">
					<column>CARD_ID</column>
				</source>
				<target table="ISS_CARD_INSTANCE" alias="ISSUER_ISS_CARD_INSTANCE">
					<column>CARD_ID</column>
				</target>
			</join-entry>  
					
			<join-entry>
				<source table="OPR_OPERATION" alias="OPR_OPERATION">
					<column>ID</column>
				</source>
				<target table="OPR_UI_MERCHANT_ADDRESS_VW">
					<column>OPER_ID</column>
				</target>
			</join-entry>
			</table-joins>
			

	</parameter-relational-mapping>

</reporting-data-model>
