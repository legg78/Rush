<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
	  xmlns:bre="http://www.bpc.ru/jsf/richfaces-ext">
<ui:composition>
	<script type="text/javascript">//<!--
		function checkDocumentFields(form) {
			var checked = true;
			
			checked = checkField(form + ':idType');
			checked = checkField(form + ':newIdNumber') && checked;			
			
			
			return checked;
		}
	
		function disablEmentExpir(day){
			var curDt = new Date();
			return (curDt.getTime() - day.date.getTime() <= 0);
		}
		
		function styleDisablEmentExpir(day){
			var curDt = new Date();
			if (curDt.getTime() - day.date.getTime() >= 0){
				return 'rich-calendar-boundary-dates';
			}
		}
	
		function disablEmentIss(day){
			var curDt = new Date();
			return (curDt.getTime() - day.date.getTime() >= 0);
		}
		
		function styleDisablEmentIss(day){
			var curDt = new Date();
			if (curDt.getTime() - day.date.getTime() <= 0){
				return 'rich-calendar-boundary-dates';
			}
		}
		//-->
	</script>
	
	<h:panelGroup layout="block" styleClass="cardholderdata-wrapper">
		<h:panelGrid columns="2" styleClass="cardholderdata" id="detailsData" width="100%" columnClasses="firstColModal top, width250 top">        			  		 			
			<h:outputLabel value="* #{lblCommon.type}: " title="#{lblCommon.type}"/>
			<h:panelGrid columns="1" cellpadding="0" cellspacing="0">
				<h:selectOneMenu id="idType"
						value="#{MbPersonId.newDocument.idType}"
						label="#{lblCommon.type}"
						onblur="hideErrorField(this)">
					<f:selectItem itemValue=""/>
				    <f:selectItems value="#{MbPersonId.idTypes}"/>
				</h:selectOneMenu>
				<h:outputFormat value="#{lblMsg.value_request}" styleClass="errorMarker"
						id="idTypeError" style="display:none;">
					<f:param name="fieldName" value="#{lblCommon.type}"/>
				</h:outputFormat>
			</h:panelGrid>
			
			<h:outputLabel value="#{lblCommon.series}:" title="#{lblCommon.series}"/>
			<h:inputText id="newIdSeries" value="#{MbPersonId.newDocument.idSeries}"
					maxlength="200"/>
			
			<h:outputLabel value="* #{lblCommon.number}:" title="#{lblCommon.number}"/>
			<h:panelGrid columns="1" cellpadding="0" cellspacing="0">
				<h:inputText id="newIdNumber" value="#{MbPersonId.newDocument.idNumber}"
						label="#{lblCommon.number}"
						maxlength="200"
						onblur="hideErrorField(this)">
				</h:inputText>
				<h:outputFormat value="#{lblMsg.value_request}" styleClass="errorMarker"
						id="newIdNumberError" style="display:none;">
					<f:param name="fieldName" value="#{lblCommon.number}"/>
				</h:outputFormat>
			</h:panelGrid>
			
			<h:outputLabel value="#{lblCommon.issuer}:" title="#{lblCommon.issuer}"/>
			<h:inputText id="newIdIssuer" value="#{MbPersonId.newDocument.idIssuer}"
					maxlength="200"/>
			
			<h:outputLabel value="#{lblCommon.issue_date}:" title="#{lblCommon.issue_date}" id="issDate"/>
			<rich:calendar buttonIcon="/images/calendar.gif" datePattern="#{usession.datePattern}" inputStyle="width:225px"
					value="#{MbPersonId.newDocument.issueDate}" id="newIssueDate" zindex="1000"
					isDayEnabled="disablEmentIss" dayStyleClass="styleDisablEmentIss"
					/>
			
			<h:outputLabel value="#{lblCommon.exp_date}:" title="#{lblCommon.exp_date}" id="expDate"/>
			
	      
			<rich:calendar buttonIcon="/images/calendar.gif" datePattern="#{usession.datePattern}" inputStyle="width:225px"
					isDayEnabled="disablEmentExpir" zindex="1000"
					dayStyleClass="styleDisablEmentExpir" 
					value="#{MbPersonId.newDocument.expireDate}" id="newExpirationDate" 
					/>

			<h:outputLabel value="#{lblCommon.language}: " title="#{lblCommon.language}" />
			<h:selectOneMenu value="#{MbPersonId.newDocument.lang}"
					disabled="#{MbPersonId.editMode}" id="newPersLang">
				<f:selectItems value="#{MbPersonId.languages}"/>
			</h:selectOneMenu>

			<h:outputLabel value="#{lblCommon.description}:" title="#{lblCommon.exp_date}"/>
			<h:inputTextarea id="newIdDesc" value="#{MbPersonId.newDocument.description}"
					rows="3" 
					onkeypress="if (!limitText(event,this,2000)) return false;" 
   					label="#{lblCommon.description}">
            	<f:validateLength maximum="2000" />
	        </h:inputTextarea>
		</h:panelGrid>
	</h:panelGroup>

</ui:composition>
</html>