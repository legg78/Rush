<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:bm="http://www.bpc.ru/jsf/misc"
    xmlns:bre="http://www.bpc.ru/jsf/richfaces-ext">
<ui:composition>
    <h:outputLabel for="#{attribute}" id="#{attribute}_LABEL"
        value="#{bean.objectAttrs[attribute].shortDesc} #{bean.objectAttrs[attribute].minCount == 1?'*':''}:"
        rendered="#{bean.objectAttrs[attribute].visible}"
        title="#{bean.objectAttrs[attribute].shortDesc}" />
    <h:panelGroup layout="block" rendered="#{bean.objectAttrs[attribute].visible}">
        <h:selectOneMenu id="#{attribute}" value="#{value}"
            label="#{bean.objectAttrs[attribute].shortDesc}"
            disabled="#{!bean.objectAttrs[attribute].updatable}"
            rendered="#{bean.objectAttrs[attribute].visible}">
            <a4j:support event="onchange"
                rendered="#{bean.objectAttrs[attribute].dependence}"
                action="#{bean.applyDependence}"
                reRender="#{bean.dependentElements}">
                <a4j:actionparam assignTo="#{bean.elementName}"
                    value="#{attribute}" />
            </a4j:support>
            <f:selectItem itemValue="" />
            <f:selectItems value="#{list}" />
        </h:selectOneMenu>
        <h:panelGroup style="margin-left: 5px">
            <h:graphicImage url="/images/icon_warning.png" height="16px"
                            rendered="#{!bean.objectAttrs[attribute].valid}"
                            width="16px"
                            title="#{lblApp.element_invalid_format}" />
            <h:graphicImage url="/images/stop-icon.png" height="16px"
                            rendered="#{!bean.objectAttrs[attribute].validRequired}"
                            width="16px"
                            title="#{lblApp.element_is_required}" />
        </h:panelGroup>
    </h:panelGroup>
</ui:composition>
</html>
