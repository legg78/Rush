<?xml version="1.0" encoding="UTF-8"?>
<html	xmlns="http://www.w3.org/1999/xhtml"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:a4j="http://richfaces.org/a4j"
		xmlns:rich="http://richfaces.org/rich"
		xmlns:bm="http://www.bpc.ru/jsf/misc"
		xmlns:bre="http://www.bpc.ru/jsf/richfaces-ext"
		xmlns:bpct="http://www.bpc.ru/jsf/tiles"
		xmlns:o="http://openfaces.org/">
<ui:composition	template="/WEB-INF/templates/navigatable.jspx">
	<ui:param name="pageHelp" value="communication_standarts.htm"/>
	<ui:define name="navigatableContent">
		<f:loadBundle var="lblCmn" basename="ru.bpc.sv2.ui.bundles.Cmn"/>
		<a4j:loadScript src="/js/stretch.js" />
		
		<a4j:outputPanel ajaxRendered="true">
			<o:loadBundle var="lblCmnQ" basename="ru.bpc.sv2.ui.bundles.Cmn"/>
		</a4j:outputPanel>

		<!-- navigation bar -->
        <bpct:navBar pageName="#{lblCmn.comm_standards}"/>
        <a4j:queue name="queue" requestDelay="500" ignoreDupResponses="true" size="1" sizeExceededBehavior="dropNew"/>
        
        <script type="text/javascript">
			//<![CDATA[
			function handleEnter(event) {
				 if (event.keyCode == 13) {
					 document.getElementById('standardsSearchForm:searchBtn').click(); 
					 return false; 
				} 
				return true;
			 }	
			//]]>
			</script>
			    
    	<h:form id="standardsSearchForm" onkeypress="handleEnter(event)">
    	
			<!-- search panel -->
			<h:panelGroup styleClass="search_block" layout="block">
				<h:panelGroup layout="block" styleClass="search_block_inner1">
					<h:panelGroup layout="block" styleClass="search_block_inner2">
		                <h:panelGroup styleClass="search_block_left" layout="block">
		                	<h:panelGrid styleClass="fw" columns="2" columnClasses="top ,link-cont">
			                	<h:panelGrid styleClass="filter-table field-cont twoColumnTable" columns="4" columnClasses="firstCol,secondCol,firstCol,secondCol">
			            			<h:outputLabel value="#{lblCommon.id}: " title="#{lblCommon.id}" />
			            			<h:inputText id="filterId" value="#{MbStandards.filter.id}"
			            				onkeypress="if (!numbersOnly(this, event)) return false; "
			            				label="#{lblCommon.id}">
			            				<f:convertNumber/>
			            			</h:inputText>
			            			
			            			<h:outputLabel value="#{lblCmn.app_online_plugin}: " title="#{lblCmn.app_online_plugin}" />
			            			<h:selectOneMenu id="appPlugin" value="#{MbStandards.filter.appPlugin}">
										<f:selectItems value="#{MbStandards.appPlugins}"/>
									</h:selectOneMenu>
	
			            			<h:outputLabel value="#{lblCommon.name}: " title="#{lblCommon.name}" />
			            			<h:inputText id="label" value="#{MbStandards.filter.label}"/>
			            			
			            			<h:outputLabel value="#{lblCmn.std_type}: " title="#{lblCmn.std_type}" />
			            			<h:selectOneMenu id="stdType" value="#{MbStandards.filter.standardType}">
			            				<f:selectItems value="#{MbStandards.standardTypes}"/>
			            			</h:selectOneMenu>
	                			</h:panelGrid>
		                		<h:panelGrid columns="1">
			                		<bre:taggedCommandButton
				                			action="#{MbStandards.search}"
		        							reRender="standardsTree, btnPanel, details"
		                					image="/_img/icon_search.png" type="submit"
		                					id="searchBtn"
		                					value="#{lblForm.search}" style="width:85px;"
		                					onclick="disableModalPanelBtns(this);"
		                					oncomplete="enableModalPanelBtns(this);"
		                					eventsQueue="queue"/>
		                			<h:panelGroup styleClass="link-clear" layout="block">
			                			<h:graphicImage url="/_img/icon_clear.png"/>
			                			<a4j:commandLink value="#{lblForm.clear_all}"
							        			action="#{MbStandards.clearFilter}"
							        			reRender="standardsSearchForm, standardsForm, details, standardsBtnForm">
							        	</a4j:commandLink>
		            	    		</h:panelGroup>
		                		</h:panelGrid>
		               		</h:panelGrid>
		               		<a4j:outputPanel ajaxRendered="true">
		               			<h:graphicImage url="/_img/hd_searchblock.gif"  styleClass="hd-searchblock"/>
		               			<h:panelGroup styleClass="collapse-vert" layout="block"/>
	               			</a4j:outputPanel>
		               	</h:panelGroup>
	               	</h:panelGroup>
               	</h:panelGroup>
			</h:panelGroup>
		</h:form>
		
		<h:form id="standardsForm">
			<h:panelGroup styleClass="search_result_block" layout="block">
				<h:panelGroup styleClass="search_result_block_left fix-ff" layout="block">
    				<h:panelGroup id="mainTableWrapper" layout="block"
						styleClass="search_result_block_tree_inner">
					<o:treeTable id="standardsTree" var="standard"
							expansionState="allExpanded"
							headerHorizSeparator="1px solid #D7DAC2"
							headerVertSeparator="1px solid #D7DAC2"
							headerSectionClass="res-tree-table-header"
							commonHeaderRowClass="res-tree-table-header"
							sortableHeaderClass="res-tree-table-header"
							sortedColumnHeaderClass="res-tree-table-header"
							sortableHeaderRolloverClass="res-tree-table-header"
							styleClass="extdt-table-layout res-tree-table"
							bodyOddRowClass="res-tree-table-row odd-tree-table"
							bodyRowClass="res-tree-table-row" headerRowClass="res-tree-table-header"
							verticalGridLines="1px solid #D7DAC2"
							cellpadding="0" cellspacing="0"
							preloadedNodes="all"
							style="height: 255px" >
						<o:scrolling/>
						<f:facet name="noDataMessage">
						  	<h:panelGroup>
						       <h:outputText value="#{lblCommon['no_records_found']}"/>
							</h:panelGroup>
						</f:facet>
						
		       			<o:dynamicTreeStructure 
		       					nodeChildren="#{MbStandards.nodeChildren}" 
		       					nodeHasChildren="#{MbStandards.nodeHasChildren}" 
		       					nodeKey="#{standard.modelId}"/>
		
					    <o:singleNodeSelection nodePath="#{MbStandards.nodePath}"
					          	nodeData="#{MbStandards.node}"
		          				keyboardSupport="false"
		          				required="true"
		          				styleClass="treetable_selection">
		          			<a4j:support event="onchange" limitToList="true" eventsQueue="queue"
		          					reRender="standardsForm:btnPanel, details"
				                    />
		          		</o:singleNodeSelection>
		
					    <o:treeColumn id="node" width="25%">
					    	<f:facet name="header">
					        	<a4j:outputPanel layout="none">
									<script>updateHeight();</script>
									<h:outputText value="#{lblCommonQ.id}"/>
								</a4j:outputPanel>
					      	</f:facet>
					      	<h:outputText styleClass="treeTableText" style="font-weight: bold"
					      			value="#{standard.id} - #{standard.label}"
					      			title="#{standard.id} - #{standard.label}"
					      			rendered="#{standard.id != null and standard.parentId == null}" />
					      	<h:outputText styleClass="treeTableText" 
					      			value="#{standard.id} - #{standard.label}"
					      			title="#{standard.id} - #{standard.label}"
					      			rendered="#{standard.id != null and standard.parentId != null}" />
					      	<h:outputText styleClass="treeTableText" 
					      			value="#{standard.label}" title="#{standard.label}"
					      			rendered="#{standard.id == null}" />
					    </o:treeColumn>
	
					    <o:column id="stdType" width="22%">
					    	<f:facet name="header">
					        	<h:outputText value="#{lblCmnQ.std_type}"/>
					      	</f:facet>
					      	<h:outputText styleClass="res-tree-table-cell"
					      			value="#{DictUtils.articles[standard.standardType]}"
					      			title="#{DictUtils.articles[standard.standardType]}"
					      			/>
					    </o:column>

					    <o:column id="appOnlinePlugin" width="17%">
					    	<f:facet name="header">
					        	<h:outputText value="#{lblCmnQ.app_online_plugin}"/>
					      	</f:facet>
					      	<h:outputText styleClass="res-tree-table-cell" 
					      			value="#{DictUtils.articles[standard.appPlugin]}" 
					      			title="#{DictUtils.articles[standard.appPlugin]}"
					      			/>
					    </o:column>
	
					    <o:column id="respCodes" width="18%">
					    	<f:facet name="header">
					        	<h:outputText value="#{lblCmnQ.resp_codes}"/>
					      	</f:facet>
					      	<h:outputText styleClass="res-tree-table-cell" 
					      			value="#{standard.respCodeLovName}"
					      			title="#{standard.respCodeLovName}" 
					      			/>
					    </o:column>

					    <o:column id="keyTypes" width="18%">
					    	<f:facet name="header">
					        	<h:outputText value="#{lblCmnQ.key_types}"/>
					      	</f:facet>
					      	<h:outputText styleClass="res-tree-table-cell" 
					      			value="#{standard.keyTypeLovName}"
					      			title="#{standard.keyTypeLovName}" 
					      			/>
					    </o:column>
					</o:treeTable>
					</h:panelGroup>
					<a4j:outputPanel ajaxRendered="true">
						<h:panelGroup id="show_more_panel" styleClass="show-more-vert show-more-result-tree-tab" layout="block"/>
				        <h:graphicImage url="/_img/hd_searchblock.gif" styleClass="hd-searchblock"/>
						<h:panelGroup styleClass="collapse-vert" layout="block"/>
					</a4j:outputPanel>
				</h:panelGroup>
			</h:panelGroup>
		</h:form>	
		<h:form id="standardsBtnForm">
		    <h:panelGroup layout="block" styleClass="bottom_search_result_block-tree">
				<h:panelGroup layout="block" styleClass="bottom_search_result_left-tree">
		            <h:panelGrid id="btnPanel" columns="6" styleClass="itempanel">
		            	<bre:taggedCommandButton id="addStdBtn"
	                      		reRender="cmn_standard_modal_header, cmn_standard_modal_div"
	                      		value="#{lblForm.add}"
                    			oncomplete="#{rich:component('cmn_standard_modal_panel')}.show()"
	                      		action="#{MbStandards.add}"
	                      		image="/images/create_doc.gif"/>
		            	<bre:taggedCommandButton id="addVersionBtn"
	                      		reRender="cmn_version_modal_header, versionEditForm"
	                      		value="#{lblForm.add_version}"
                    			oncomplete="#{rich:component('cmn_version_modal_panel')}.show()"
	                      		action="#{MbStandards.addVersion}"
	                      		disabled="#{MbStandards.node == null}"
	                      		image="/images/create_doc.gif"/>
	                    <bre:taggedCommandButton id="editStdBtn"
	                      		reRender="cmn_standard_modal_header, cmn_standard_modal_div"
	                      		value="#{lblForm.edit}"
                    			oncomplete="#{rich:component('cmn_standard_modal_panel')}.show()"
	                      		action="#{MbStandards.edit}"
	                      		disabled="#{MbStandards.node == null}"
	                      		rendered="#{MbStandards.standard}"
	                      		image="/images/edit.gif"/>
	                    <bre:taggedCommandButton id="reorderVersionsBtn"
	                      		reRender="cmn_reorder_versions_modal_div"
	                      		value="#{lblCmn.reorder}"
                    			oncomplete="#{rich:component('cmn_reorder_versions_modal_panel')}.show()"
	                      		action="#{MbStandards.prepareReorder}"
	                      		disabled="#{MbStandards.node == null}"
	                      		rendered="#{MbStandards.standard}"/>
		            	<bre:taggedCommandButton id="editVersionBtn"
	                      		reRender="cmn_version_modal_header, versionEditForm"
	                      		value="#{lblForm.edit}"
                    			oncomplete="#{rich:component('cmn_version_modal_panel')}.show()"
	                      		action="#{MbStandards.editVersion}"
	                      		disabled="#{MbStandards.node == null}"
	                      		rendered="#{MbStandards.standardVersion}"
	                      		image="/images/edit.gif"/>
	                    <bre:taggedCommandButton id="moveVersionUpBtn"
	                      		reRender="standardsTree"
	                      		value="#{lblCmn.move_up}"
                    			action="#{MbStandards.moveVersionUpReload}"
	                      		disabled="#{MbStandards.node == null}"
	                      		rendered="#{MbStandards.standardVersion}"/>
	                    <bre:taggedCommandButton id="moveVersionDownBtn"
	                      		reRender="standardsTree"
	                      		value="#{lblCmn.move_down}"
                    			action="#{MbStandards.moveVersionDownReload}"
	                      		disabled="#{MbStandards.node == null}"
	                      		rendered="#{MbStandards.standardVersion}"/>
						<bre:taggedCommandButton id="deleteBtn"
	                      		value="#{lblForm.delete}"
	                      		oncomplete="#{rich:component('deleteViewId:confirmPanel')}.show()"
	                      		disabled="#{MbStandards.node == null}"
	                      		image="/images/delete.gif"/>
					</h:panelGrid>
				</h:panelGroup>
		    </h:panelGroup>
    	</h:form>

        <h:form>
            <a4j:jsFunction name="storeTab" ajaxSingle="true" limitToList="true" ignoreDupResponses="true" eventsQueue="queue"
                            requestDelay="500" reRender="#{MbStandards.rerenderList}">
                <a4j:actionparam name="tabName" assignTo="#{MbStandards.tabName}" />
            </a4j:jsFunction>
        </h:form>

		<h:panelGroup styleClass="workplace" layout="block" id="workplacePanel">
	    	<rich:tabPanel switchType="client" id="details" tabClass="tab-cell"
	    			activeTabClass="active-tab-cell" headerClass="tabs" headerSpacing="0px"
	    			contentClass="tab-content" selectedTab="#{MbStandards.tabName}">
	    			
				<rich:tab ontabenter="storeTab('detailsTab');" label="Details">
					<f:facet name="label">
       					<h:panelGroup styleClass="first tab-label" layout="block">
       						<h:outputText value="#{lblCommon.details}" title="#{lblCommon.details}"/>
       					</h:panelGroup>
       				</f:facet>
					<h:panelGroup id="detailsTab" layout="block">
						<a4j:outputPanel layout="none" rendered="#{MbStandards.standard}">
							<ui:include src="/pages/communication/standard_details.jspx"/>
						</a4j:outputPanel>
						<a4j:outputPanel layout="none" rendered="#{MbStandards.standardVersion}">
							<ui:include src="/pages/communication/standard_version_details.jspx"/>
						</a4j:outputPanel>
						<h:panelGroup layout="block"
							styleClass="bottom_search_result_block_buttons"/>	       				
					</h:panelGroup>
			    </rich:tab>
			    
				<rich:tab ontabenter="storeTab('paramsTab');" label="#{lblCmn.comm_params}" name="paramsTab" style="height:100%;">
       				<f:facet name="label">
       					<h:panelGroup styleClass="first tab-label" layout="block">
       						<h:outputText value="#{lblCmn.comm_params}" title="#{lblCmn.comm_params}"/>
       					</h:panelGroup>
       				</f:facet>

					<h:panelGroup id="paramsTab" layout="block"
						styleClass="carddata-wrapper"
						style="height: 100%;overflow:hidden;position:relative;">
						<h:panelGroup layout="none" rendered="#{MbStandards.standard}">
							<ui:include
								src="/pages/communication/list_parameters_bottom.jspx" />
						</h:panelGroup>
						<h:panelGroup layout="none"
							rendered="#{MbStandards.standardVersion}">
							<ui:include src="/pages/communication/list_parameter_values.jspx">
								<ui:param name="requireValues" value="false"></ui:param>
							</ui:include>
						</h:panelGroup>
					</h:panelGroup>
				</rich:tab>

				<rich:tab ontabenter="storeTab('respCodesTab');" label="#{lblCmn.response_codes_mapping}" name="respCodesTab" rendered="#{MbStandards.standard}" style="height:100%;">
       				<f:facet name="label">
       					<h:panelGroup styleClass="first tab-label" layout="block">
       						<h:outputText value="#{lblCmn.response_codes_mapping}" title="#{lblCmn.response_codes_mapping}"/>
       					</h:panelGroup>
       				</f:facet>

					<h:panelGroup id="respCodesTab" layout="block" styleClass="carddata-wrapper" style="height: 100%;overflow:hidden;position:relative;">
						<ui:include src="/pages/communication/list_response_codes_bottom.jspx"></ui:include>
       				</h:panelGroup>
			    </rich:tab>
			    
   			    <rich:tab ontabenter="storeTab('standardKeyTypeMapTab');" label="#{lblCmn.key_types_mapping}" name="standardKeyTypeMapTab" rendered="#{MbStandards.standard}" style="height:100%;">
       				<f:facet name="label">
       					<h:panelGroup styleClass="first tab-label" layout="block">
       						<h:outputText value="#{lblCmn.key_types_mapping}" title="#{lblCmn.key_types_mapping}"/>
       					</h:panelGroup>
       				</f:facet>

					<h:panelGroup id="standardKeyTypeMapTab" layout="block" styleClass="carddata-wrapper" style="height: 100%;overflow:hidden;position:relative;">
						<ui:include src="/pages/communication/standardKeyTypeMapBottomList.jspx"></ui:include>
       				</h:panelGroup>
			    </rich:tab>

   			    <rich:tab ontabenter="storeTab('standardObjectsTab');" label="#{lblCommon.objects}" name="standardObjectsTab"  rendered="#{MbStandards.standard}" style="height:100%;">
       				<f:facet name="label">
       					<h:panelGroup styleClass="first tab-label" layout="block">
       						<h:outputText value="#{lblCommon.objects}" title="#{lblCommon.objects}"/>
       					</h:panelGroup>
       				</f:facet>

					<h:panelGroup id="standardObjectsTab" layout="block" styleClass="carddata-wrapper" style="height: 100%;overflow:hidden;position:relative;">
						<ui:include src="/pages/communication/objectStandardsListBottom.jspx"></ui:include>
       				</h:panelGroup>
			    </rich:tab>

                <rich:tab ontabenter="storeTab('standardVersionObjectsTab');" label="#{lblCommon.objects}" name="standardVersionObjectsTab" rendered="#{MbStandards.standardVersion}" style="height:100%;">
                    <f:facet name="label">
                        <h:panelGroup styleClass="first tab-label" layout="block">
                            <h:outputText value="#{lblCommon.objects}" title="#{lblCommon.objects}"/>
                        </h:panelGroup>
                    </f:facet>

                    <h:panelGroup id="standardVersionObjectsTab" layout="block" styleClass="carddata-wrapper" style="height: 100%;overflow:hidden;position:relative;">
                        <ui:include src="/pages/communication/objectStandardVersionsListBottom.jspx"></ui:include>
                    </h:panelGroup>
                </rich:tab>
			    
    			<rich:tab ontabenter="storeTab('paymentFormattersTab');" label="#{lblPmo.payment_formatters}" name="paymentFormattersTab" rendered="#{usession.inRole['VIEW_PURPOSE_FORMATTERS']}" style="height:100%;">
       				<f:facet name="label">
       					<h:panelGroup styleClass="first tab-label" layout="block">
       						<h:outputText value="#{lblPmo.payment_formatters}" title="#{lblPmo.payment_formatters}"/>
       					</h:panelGroup>
       				</f:facet>

					<h:panelGroup id="paymentFormattersTab" layout="block" styleClass="carddata-wrapper" style="height: 100%;overflow:hidden;position:relative;">
						<ui:include src="/pages/communication/paymentFormattersBottomList.jspx" />
       				</h:panelGroup>
			    </rich:tab>
			    
    			<rich:tab ontabenter="storeTab('operTypeMapsTab');" label="#{lblNet.oper_type_maps}" name="operTypeMapsTab" rendered="#{usession.inRole['VIEW_OPERATION_TYPE_MAPPING']}" style="height:100%;">
       				<f:facet name="label">
       					<h:panelGroup styleClass="first tab-label" layout="block">
       						<h:outputText value="#{lblNet.oper_type_maps}" title="#{lblNet.oper_type_maps}"/>
       					</h:panelGroup>
       				</f:facet>

					<h:panelGroup id="operTypeMapsTab" layout="block" styleClass="carddata-wrapper" style="height: 100%;overflow:hidden;position:relative;">
						<ui:include src="/pages/net/operTypeMapsListBottom.jspx" />
       				</h:panelGroup>
			    </rich:tab>

    			<rich:tab ontabenter="storeTab('msgTypeMapsTab');" label="#{lblNet.msg_type_maps}" name="msgTypeMapsTab" rendered="#{usession.inRole['VIEW_MESSAGE_TYPE_MAPPING']}" style="height:100%;">
       				<f:facet name="label">
       					<h:panelGroup styleClass="first tab-label" layout="block">
       						<h:outputText value="#{lblNet.msg_type_maps}" title="#{lblNet.msg_type_maps}"/>
       					</h:panelGroup>
       				</f:facet>

					<h:panelGroup id="msgTypeMapsTab" layout="block" styleClass="carddata-wrapper" style="height: 100%;overflow:hidden;position:relative;">
						<ui:include src="/pages/net/msgTypeMapsListBottom.jspx" />
       				</h:panelGroup>
			    </rich:tab>

				<rich:tab ontabenter="storeTab('flexFieldsTab');"
						  label="#{lblCommon.flexible_fields}"
						  name="flexFieldsTab"
						  rendered="#{usession.inRole['VIEW_FLEX_FIELD_STANDARD']}"
						  style="height:100%;">
					<f:facet name="label">
						<h:panelGroup styleClass="tab-label" layout="block">
							<h:outputText value="#{lblCommon.flexible_fields}" title="#{lblCommon.flexible_fields}"/>
						</h:panelGroup>
					</f:facet>

					<h:panelGroup id="flexFieldsTab"
								  layout="block"
								  styleClass="carddata-wrapper"
								  style="height:100%; overflow:hidden; position:relative;">
						<ui:include src="/pages/common/flexible/flexFieldsStandardBottom.jspx"/>
					</h:panelGroup>
				</rich:tab>
			</rich:tabPanel>
        </h:panelGroup>

		<ui:include src="/pages/communication/standardEdit.jspx">
			<ui:param name="rerenderList" 
					value="standardsTree, btnPanel, #{MbStandards.standardIsShown ? 'detailsTab, paramsTab, 
							respCodesTab, standardKeyTypeMapTab' : 'details'}"/>
		</ui:include>
		
		<ui:include src="/pages/communication/standard_version_edit.jspx">
			<ui:param name="saveBean" value="#{MbStandards}"/>
			<ui:param name="rerenderList" value="standardsTree, btnPanel, #{MbStandards.standardIsShown ? 
					'details' : 'detailsTab, paramValuesTab'}"/>
		</ui:include>
		
		<rich:modalPanel id="cmn_reorder_versions_modal_panel" autosized="true" minWidth="300" minHeight="100"
			onhide="reloadTree()">
	      	<f:facet name="header">
				<h:panelGroup id="cmn_reorder_versions_modal_header">
	           	    <h:outputText value="#{lblCmn.reorder}"/>
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
		    </f:facet>
	   	    <h:panelGroup id="cmn_reorder_versions_modal_div">
		    	<h:form id="versionsReorderForm">
		    		<h:panelGroup layout="block" styleClass="cardholderdata-wrapper">
						<h:panelGrid columns="2" styleClass="cardholderdata" columnClasses="firstColModal, width250">
							<rich:orderingList id="versionsList"
								converter="bpc.CmnStandardConverter"
								value="#{MbStandards.standardVersionsList}" 
								var="item" 
								selection="#{MbStandards.reorderSelection}" 
								showButtonLabels="false" 
								fastOrderControlsVisible="false"
								controlsType="button"
								>
								<rich:column  width="180">
						            <f:facet name="header">
						                <h:outputText value="#{lblCmn.version_number}" />
						            </f:facet> 
					                <h:outputText value="#{item.label}"></h:outputText>
					            </rich:column>
								<a4j:support event="onupclick" action="#{MbStandards.moveVersionUp}" oncomplete="return false;"/>
								<a4j:support event="ondownclick" action="#{MbStandards.moveVersionDown}"/>
							</rich:orderingList>
						</h:panelGrid>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="bottom_search_result_block_buttons">
						<h:panelGroup layout="block" styleClass="bottom_search_result_left_buttons">
			       	    	<h:panelGrid columns="2" columnClasses="width99P,paddingR12">
			       	    		<h:outputText/>
	                        	<bre:taggedCommandButton
	                        			value="#{lblForm.close}"
					                   	onclick="#{rich:component('cmn_reorder_versions_modal_panel')}.hide()"
	                        			/>	
				    		</h:panelGrid>
				    	</h:panelGroup>
				    </h:panelGroup>
				    <a4j:jsFunction name="reloadTree" action="#{MbStandards.reload}" reRender="standardsForm"/>
				</h:form>
			</h:panelGroup>
		</rich:modalPanel>
		
		<ui:include src="/pages/utils/confirmPanel.jspx">
			<ui:param name="backingBean" value="#{MbStandards}"/>
			<ui:param name="yesAction" value="delete"/>
			<ui:param name="warningMsg" value="#{lblMsg.confirm_delete}"/> 
			<ui:param name="rerenderList" value="standardsTree, details, btnPanel"/>
			<ui:param name="confirmQuestion" value=" "/> 
			<ui:param name="subviewId" value="deleteViewId"/>
			<ui:param name="yes" value="#{lblForm.ok}"/>
			<ui:param name="no" value="#{lblForm.cancel}"/>
		</ui:include>
		
        <script>
        //<![CDATA[
            function updateHeight(){
                updateGridHeight();
            }
            layout = {
                SEARCH_FORM_ID:                 'standardsSearchForm',
                SEARCH_RESULT_FORM_ID:          'standardsForm',
                SEARCH_RESULT_FORM_WRAPPER_ID:  'mainTableWrapper',
                SEARCH_RESULT_FOOTER_FORM_ID:   'standardsBtnForm',
                TAB_PANEL_ID:                   'workplacePanel',
    
                TAB_DATA:      [{
                    TAB_FORM_ID:            'standardDetailsForm',
                    TAB_FORM_WRAPPER_ID:    'standardDetailsWrapper',
                    CORRECTING_HEIGHT:      Stretch.TABS + Stretch.BUTTONS + Stretch.LANG_SELECTOR
                }, {
                    TAB_FORM_ID:            'standardVersionsForm',
                    TAB_FORM_WRAPPER_ID:    'standardVersionsDetailsWrapper',
                    CORRECTING_HEIGHT:      Stretch.TABS + Stretch.BUTTONS + Stretch.LANG_SELECTOR
                }, {
                    TAB_FORM_ID:            'cmnParamValuesForm',
                    TAB_FORM_WRAPPER_ID:    'paramValuesTableWrapper',
                    CORRECTING_HEIGHT:      Stretch.TABS + Stretch.BUTTONS
                }, {
                    TAB_FORM_ID:            'cmnParamsForm',
                    TAB_FORM_WRAPPER_ID:    'parametersTableWrapper',
                    CORRECTING_HEIGHT:      Stretch.TABS + Stretch.BUTTONS + Stretch.LANG_SELECTOR
                }, {
                    TAB_FORM_ID:            'respCodesBottomForm',
                    TAB_FORM_WRAPPER_ID:    'respCodesTableWrapper',
                    CORRECTING_HEIGHT:      Stretch.TABS + Stretch.BUTTONS + Stretch.LANG_SELECTOR
                }, {
                    TAB_FORM_ID:            'standardKeyTypeMapForm',
                    TAB_FORM_WRAPPER_ID:    'standardKeyTypeMapTableWrapper',
                    CORRECTING_HEIGHT:      Stretch.TABS + Stretch.BUTTONS
                }, {
                    TAB_FORM_ID:            'objectStdsForm',
                    TAB_FORM_WRAPPER_ID:    'objectsTableWrapper',
                    CORRECTING_HEIGHT:      Stretch.TABS + Stretch.BUTTONS
                }, {
                    TAB_FORM_ID:            'purposeFormatterResultForm',
                    TAB_FORM_WRAPPER_ID:    'PmoPurposeFormatterTableWrapper',
                    CORRECTING_HEIGHT:      Stretch.TABS + Stretch.BUTTONS
                }, {
                    TAB_FORM_ID:            'operTypeMapsBtmForm',
                    TAB_FORM_WRAPPER_ID:    'operTypeMapsTableWrapper',
                    CORRECTING_HEIGHT:      Stretch.TABS + Stretch.BUTTONS
                }, {
                    TAB_FORM_ID:            'msgTypeMapsBtmForm',
                    TAB_FORM_WRAPPER_ID:    'msgTypeMapsTableWrapper',
                    CORRECTING_HEIGHT:      Stretch.TABS + Stretch.BUTTONS
                }, {
                    TAB_FORM_ID:            'flexStandardFieldsForm',
                    TAB_FORM_WRAPPER_ID:    'flexStandardFieldsWrapper',
                    CORRECTING_HEIGHT:      Stretch.TABS + Stretch.BUTTONS
                }]
            };
            jQuery(window).resize(updateHeight);
            updateHeight();
        //]]>
        </script>
	</ui:define>
</ui:composition>
</html>
