<?xml version="1.0" encoding="UTF-8"?>
<html	xmlns="http://www.w3.org/1999/xhtml"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:a4j="http://richfaces.org/a4j"
		xmlns:rich="http://richfaces.org/rich"
		xmlns:bm="http://www.bpc.ru/jsf/misc"
		xmlns:bre="http://www.bpc.ru/jsf/richfaces-ext">
<ui:composition>
<f:loadBundle var="lblAcc" basename="ru.bpc.sv2.ui.bundles.Acc"/>

	<h:panelGroup layout="block" styleClass="cardholderdata-wrapper" id = "acc_account_view_wrapper_div">
		<h:panelGroup layout="block" styleClass="langSelector">
			<h:panelGrid columns="2" styleClass="cardholderdata oneColumnTable"
					id="detailsData" columnClasses=",secondCol">
				<h:outputLabel for="lang" value="#{lblCommon.lang_selector}: "
						title="#{lblCommon.lang_selector}" />
				<h:selectOneMenu id="lang"
						disabled="#{MbAccountsSearch.activeAccount.id == null}"
						value="#{MbCardsSearch.curLang}"
						valueChangeListener="#{MbAccountsAllSearch.changeLanguage}">
					<a4j:support event="onchange" reRender="acc_account_view_wrapper_div"
							limitToList="true" oncomplete="updateHeight();"/>
					<f:selectItems value="#{MbAccountsSearch.languages}" />
				</h:selectOneMenu>
			</h:panelGrid>
		</h:panelGroup>
		<h:panelGrid columns="2" styleClass="cardholderdata" width="100%" columnClasses="firstColModal, width250">        
		
			<h:outputLabel value="#{lblAcc.account_number}: " title="#{lblAcc.account_number}" />
			<h:inputText value="#{MbAccountsSearch.activeAccount.accountNumber}" readonly="true"/>
			
			<h:outputLabel value="#{lblCommon.type}: " title="#{lblCommon.type}" />
			<h:inputText value="#{DictUtils.articlesByLang[MbAccountsAllSearch.curLang][MbAccountsSearch.activeAccount.accountType]}" readonly="true"/>
			
			<h:outputLabel value="#{lblCommon.institution}: " title="#{lblCommon.institution}" />
			<h:inputText value="#{MbAccountsSearch.activeAccount.instName}" readonly="true"/>
			
			<h:outputLabel value="#{lblCommon.agent}: " title="#{lblCommon.agent}" />
			<h:inputText value="#{MbAccountsSearch.activeAccount.agentName}" readonly="true"/>
			
			<h:outputLabel value="#{lblCommon.status}: " title="#{lblCommon.status}" />
			<h:inputText value="#{DictUtils.articlesByLang[MbAccountsAllSearch.curLang][MbAccountsSearch.activeAccount.status]}" readonly="true"/>
			
			<h:outputLabel value="#{lblPrd.contract}: " title="#{lblPrd.contract}" />
			<h:inputText value="#{MbAccountsSearch.activeAccount.contractNumber}" readonly="true"/>
			
			<h:outputLabel value="#{lblPrd.customer}: " title="#{lblPrd.customer}" />
			<h:inputText readonly="true"
					value="#{MbAccountsSearch.accountCustomer.customerNumber} - #{MbAccountsSearch.accountCustomer.person.fullName}"
					rendered="#{MbAccountsSearch.accountCustomer != null and MbAccountsSearch.accountCustomer.person != null and 
							MbAccountsSearch.accountCustomer.person.personId != null}"/>
			<h:inputText readonly="true"
					value="#{MbAccountsSearch.accountCustomer.customerNumber} - #{MbAccountsSearch.accountCustomer.company.label}"
					rendered="#{MbAccountsSearch.accountCustomer != null and MbAccountsSearch.accountCustomer.company != null and
							MbAccountsSearch.accountCustomer.company.id != null}"/>
			<h:inputText readonly="true" value="" 
					rendered="#{MbAccountsSearch.accountCustomer == null and  
							MbAccountsSearch.accountCustomer.person.personId == null and 
							MbAccountsSearch.accountCustomer.company.id == null}"/>
			<h:inputText readonly="true" value="#{MbAccountsSearch.accountCustomer.customerNumber}" 
					rendered="#{MbAccountsSearch.accountCustomer != null and 
							(MbAccountsSearch.accountCustomer.person == null or MbAccountsSearch.accountCustomer.person.personId == null) 
							and 
							(MbAccountsSearch.accountCustomer.company == null or MbAccountsSearch.accountCustomer.company.id == null)}"/>

			<h:outputLabel value="#{lblAcc.balance}: " title="#{lblAcc.balance}" />
			<h:inputText value="#{MbAccountsSearch.activeAccount.balance}" 
					readonly="true" converter="bpc.CurrencyConverter">
                <f:attribute name="exponent" value="#{CurrencyUtils.currencyObjectsMap[MbAccountsSearch.activeAccount.currency].exponent}"/>
            </h:inputText>
			
			<h:outputLabel value="#{lblCommon.currency}: " title="#{lblCommon.currency}" />
			<h:panelGrid columns="2" >
				
				<div class="#{EntityIcons.objectsMapS['ENTT0046'][MbAccountsSearch.activeAccount.currency]}"/>

			<h:inputText value="#{MbAccountsSearch.activeAccount.currency} - #{CurrencyUtils.currencyObjectsMap[MbAccountsSearch.activeAccount.currency].currencyName}"
				readonly="true" style="width: 225px" />
			</h:panelGrid>
			
		</h:panelGrid>		
	</h:panelGroup>
   
</ui:composition>
</html>
