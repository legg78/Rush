<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich"
	xmlns:bre="http://www.bpc.ru/jsf/richfaces-ext">
	<ui:composition>
		<h:form id="unsolicitedForm">
			<h:panelGroup id="unsolicitedWrapper" layout="block" style="padding:0px;margin:0px;">
				<rich:extendedDataTable enableContextMenu="true"
			           	id="unsolicitedTable"
			           	styleClass="res-table"
			           	headerClass="res-table-header table-header-ext"
			           	selectedClass="res-table-selected"
			           	rowClasses=",odd"
			           	var="item"
			           	value="#{MbUnsolicitedSearch.dataModel}"
			           	selection="#{MbUnsolicitedSearch.itemSelection}"
			           	rows="0"
			           	height="100%"
			           	tableState="#{MbUnsolicitedSearch.tableState}"
						selectionMode="single"
						noDataLabel="#{lblCommon['no_records_found']}">
						
			        <rich:column id="message_type" label="#{lblAtm.msg_type}" sortBy="msg_type" width="10%" >
			           <f:facet name="header">
			           		<script>
								updateHeight();
							</script>						         
							<h:outputText value="#{lblAtm.msg_type}" title="#{lblAtm.msg_type}"/>						
		                </f:facet>
						<f:facet name="filter">
							<h:inputText value="#{MbUnsolicitedSearch.filter.messageType}"  style="width: 100%;" onkeydown="if (ignoreEnter(event)) return false;">
								<a4j:support event="onkeyup" requestDelay="500" onsubmit="if (isNonFunctionalKey(event, true)) return false;"
										reRender="unsolicitedTable" action="#{MbUnsolicitedSearch.search}"/>
							</h:inputText>
						</f:facet>
		                <h:panelGroup>
		                	<h:outputText value="#{item.messageType}" title="#{item.messageType}"/>
		                </h:panelGroup>
			        </rich:column>
			        <rich:column id="device_id" label="#{lblAtm.device_id}" sortBy="msg_type" width="10%" >
			           <f:facet name="header">
							<h:outputText value="#{lblAtm.device_id}" title="#{lblAtm.device_id}"/>						
		                </f:facet>
		                <f:facet name="filter">
							<h:inputText value="#{MbUnsolicitedSearch.filter.deviceId}"  style="width: 100%;" onkeydown="if (ignoreEnter(event)) return false;">
								<a4j:support event="onkeyup" requestDelay="500" onsubmit="if (isNonFunctionalKey(event, true)) return false;"
										reRender="unsolicitedTable" action="#{MbUnsolicitedSearch.search}"/>
							</h:inputText>
						</f:facet>
		                <h:panelGroup>
		                	<h:outputText value="#{item.deviceId} - #{item.deviceName}" title="#{item.deviceId} - #{item.deviceName}"/>
		                </h:panelGroup>
			        </rich:column>
			        <rich:column id="device_status" label="#{lblAtm.device_status}" sortBy="device_status" width="10%" >
			           <f:facet name="header">
							<h:outputText value="#{lblAtm.device_status}" title="#{lblAtm.device_status}"/>						
		                </f:facet>
		                <f:facet name="filter">
							<h:inputText value="#{MbUnsolicitedSearch.filter.deviceStatus}"  style="width: 100%;" onkeydown="if (ignoreEnter(event)) return false;">
								<a4j:support event="onkeyup" requestDelay="500" onsubmit="if (isNonFunctionalKey(event, true)) return false;"
										reRender="unsolicitedTable" action="#{MbUnsolicitedSearch.search}"/>
							</h:inputText>
						</f:facet>
		                <h:panelGroup>
		                	<h:outputText value="#{item.deviceStatus}" title="#{item.deviceStatus}"/>
		                </h:panelGroup>
			        </rich:column>
			        <rich:column id="error_severity" label="#{lblAtm.error_severity}" sortBy="error_severity" width="10%" >
			           <f:facet name="header">
							<h:outputText value="#{lblAtm.error_severity}" title="#{lblAtm.error_severity}"/>						
		                </f:facet>
		                <f:facet name="filter">
							<h:inputText value="#{MbUnsolicitedSearch.filter.errorSeverity}"  style="width: 100%;" onkeydown="if (ignoreEnter(event)) return false;">
								<a4j:support event="onkeyup" requestDelay="500" onsubmit="if (isNonFunctionalKey(event, true)) return false;"
										reRender="unsolicitedTable" action="#{MbUnsolicitedSearch.search}"/>
							</h:inputText>
						</f:facet>
		                <h:panelGroup>
		                	<h:outputText value="#{item.errorSeverity}" title="#{item.errorSeverity}"/>
		                </h:panelGroup>
			        </rich:column>
			        <rich:column id="diag_status" label="#{lblAtm.diag_status}" sortBy="diag_status" width="15%" >
			           <f:facet name="header">
							<h:outputText value="#{lblAtm.diag_status}" title="#{lblAtm.diag_status}"/>						
		                </f:facet>
		                <f:facet name="filter">
							<h:inputText value="#{MbUnsolicitedSearch.filter.diagStatus}"  style="width: 100%;" onkeydown="if (ignoreEnter(event)) return false;">
								<a4j:support event="onkeyup" requestDelay="500" onsubmit="if (isNonFunctionalKey(event, true)) return false;"
										reRender="unsolicitedTable" action="#{MbUnsolicitedSearch.search}"/>
							</h:inputText>
						</f:facet>
		                <h:panelGroup>
		                	<h:outputText value="#{item.diagStatus}" title="#{item.diagStatus}"/>
		                </h:panelGroup>
			        </rich:column>
			        <rich:column id="supplies_status" label="#{lblAtm.supplies_status}" sortBy="supplies_status" width="20%" >
			           <f:facet name="header">
							<h:outputText value="#{lblAtm.supplies_status}" title="#{lblAtm.supplies_status}"/>						
		                </f:facet>
		                <f:facet name="filter">
							<h:inputText value="#{MbUnsolicitedSearch.filter.suppliesStatus}"  style="width: 100%;" onkeydown="if (ignoreEnter(event)) return false;">
								<a4j:support event="onkeyup" requestDelay="500" onsubmit="if (isNonFunctionalKey(event, true)) return false;"
										reRender="unsolicitedTable" action="#{MbUnsolicitedSearch.search}"/>
							</h:inputText>
						</f:facet>
		                <h:panelGroup>
		                	<h:outputText value="#{item.suppliesStatus}" title="#{item.suppliesStatus}"/>
		                </h:panelGroup>
			        </rich:column>
			    </rich:extendedDataTable>
			</h:panelGroup>
	
			<h:panelGroup layout="block" styleClass="bottom_search_result_block_buttons" >
				<h:panelGroup layout="block" styleClass="bottom_search_result_left_buttons">
				</h:panelGroup>
			</h:panelGroup>
		</h:form>
	</ui:composition>
</html>
