<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:bre="http://www.bpc.ru/jsf/richfaces-ext"
	xmlns:fmt="http://www.bpc.ru/el/formatter">
<ui:composition>
	<f:loadBundle var="lblAtm" basename="ru.bpc.sv2.ui.bundles.Atm" />

	<!-- Result panel -->
	<h:form id="atmCashInForm" style="overflow:hidden;">

		<h:panelGroup id="atmCashInTableWrapper" layout="block"
			style="padding:0px;margin:0px;">
			<rich:extendedDataTable id="atmCashInTable" styleClass="res-table"
				headerClass="res-table-header table-header-ext" rowClasses=",odd"
				selectedClass="res-table-selected" var="item"
				value="#{(cashInBean==null ? MbAtmCashIns : cashInBean).atmCashIns}" selectionMode="single"
				selection="#{(cashInBean==null ? MbAtmCashIns : cashInBean).itemSelection}" width="100%"
				enableContextMenu="true" border="0"
				tableState="#{(cashInBean==null ? MbAtmCashIns : cashInBean).tableState}"
				noDataLabel="#{lblCommon.no_records_found}">

				<rich:column id="id" label="#{lblCommon.id}" title="Id" sortBy="#{'id'}" width="6%">
					<f:facet name="header">
						<h:panelGroup>
							<h:outputText value="#{lblCommon.id}" title="#{lblCommon.id}" />
							<script>
								updateHeight();
							</script>
						</h:panelGroup>
					</f:facet>
					<h:outputText value="#{item.id}" title="#{item.id}" />
				</rich:column>

				<rich:column id="face_value" label="#{lblAtm.face_value}" title="Face value" sortBy="#{'faceValue'}" width="12%">
					<f:facet name="header">
						<h:outputText value="#{lblAtm.face_value}"
							title="#{lblAtm.face_value}" />
					</f:facet>
					<h:outputText
						value="#{fmt:formatMoney((cashInBean==null ? MbAtmCashIns : cashInBean).activeAtmCashIn.faceValue, CurrencyUtils.currencyObjectsMap[(cashInBean==null ? MbAtmCashIns : cashInBean).activeAtmCashIn.currency].exponent)}"
						title="#{fmt:formatMoney((cashInBean==null ? MbAtmCashIns : cashInBean).activeAtmCashIn.faceValue, CurrencyUtils.currencyObjectsMap[(cashInBean==null ? MbAtmCashIns : cashInBean).activeAtmCashIn.currency].exponent)}" 
						rendered="#{(cashInBean==null ? MbAtmCashIns : cashInBean).activeAtmCashIn != null or (cashInBean==null ? MbAtmCashIns : cashInBean).activeAtmCashIn.faceValue != null}"/>
						
					<h:outputText value="" title=""
						rendered="#{(cashInBean==null ? MbAtmCashIns : cashInBean).activeAtmCashIn == null or (cashInBean==null ? MbAtmCashIns : cashInBean).activeAtmCashIn.faceValue == null}" />
				</rich:column>

				<rich:column id="currency" label="#{lblCommon.currency}" title="Currency" sortBy="#{'currency'}" width="11%">
					<f:facet name="header">
						<h:outputText value="#{lblCommon.currency}"
							title="#{lblCommon.currency}" />
					</f:facet>
					<div class="#{EntityIcons.objectsMapS['ENTT0046'][(cashInBean==null ? MbAtmCashIns : cashInBean).activeAtmCashIn.currency]}"/>
					<h:outputText
						value="#{(cashInBean==null ? MbAtmCashIns : cashInBean).activeAtmCashIn.currency} - #{CurrencyUtils.currencyObjectsMap[(cashInBean==null ? MbAtmCashIns : cashInBean).activeAtmCashIn.currency].currencyName}"
						title="#{(cashInBean==null ? MbAtmCashIns : cashInBean).activeAtmCashIn.currency} - #{CurrencyUtils.currencyObjectsMap[(cashInBean==null ? MbAtmCashIns : cashInBean).activeAtmCashIn.currency].currencyName}"
						rendered="#{(cashInBean==null ? MbAtmCashIns : cashInBean).activeAtmCashIn.currency != null}" />
					<h:outputText value="" title=""
						rendered="#{(cashInBean==null ? MbAtmCashIns : cashInBean).activeAtmCashIn.currency == null}" />
				</rich:column>

				<rich:column id="denomination_code" label="#{lblAtm.denomination_code}" title="Denomination code" sortBy="#{'certifiedKeyId'}"
					width="14%">
					<f:facet name="header">
						<h:outputText value="#{lblAtm.denomination_code}"
							title="#{lblAtm.denomination_code}" />
					</f:facet>
					<h:outputText value="#{(cashInBean==null ? MbAtmCashIns : cashInBean).activeAtmCashIn.denominationCode}"
						title="#{(cashInBean==null ? MbAtmCashIns : cashInBean).activeAtmCashIn.denominationCode}" />
				</rich:column>

				<rich:column id="active" label="#{lblCommon.active}" title="Active" sortBy="#{'active'}"
					width="10%">
					<f:facet name="header">
						<h:outputText value="#{lblCommon.active}"
							title="#{lblCommon.active}" />
					</f:facet>
					<h:selectBooleanCheckbox value="#{(cashInBean==null ? MbAtmCashIns : cashInBean).activeAtmCashIn.isActive}" rendered="#{(cashInBean==null ? MbAtmCashIns : cashInBean).activeAtmCashIn.isActive != null}" />
					<h:outputText value="#{(cashInBean==null ? MbAtmCashIns : cashInBean).activeAtmCashIn.isActive}" rendered="#{(cashInBean==null ? MbAtmCashIns : cashInBean).activeAtmCashIn.isActive == null}"
						 />
				</rich:column>

			</rich:extendedDataTable>

		</h:panelGroup>

		<h:panelGroup layout="block"
			styleClass="bottom_search_result_block_buttons">
			<h:panelGroup layout="block" styleClass="bottom_search_result_left_buttons" rendered="#{cashInBean==null}">
				<h:panelGrid styleClass="fw buttons_block" columns="2" columnClasses=", table_tools_state">
					<h:panelGroup></h:panelGroup>
					<h:panelGroup>
						<h:graphicImage url="/images/green-tick.png" title="#{lblCommon.save_table_state}" styleClass="action_icon"
							onclick="saveCashTableState();"/>
						<h:graphicImage url="/images/red-cross.png" title="#{lblCommon.delete_table_state}" styleClass="action_icon"
							onclick="deleteCashTableState();"/>
						<a4j:queue name="tablestatequeue"/>
						<a4j:jsFunction name="saveCashTableState" action="#{MbAtmCashIns.saveTableStateDB}" eventsQueue="tablestatequeue"/>
						<a4j:jsFunction name="deleteCashTableState" action="#{MbAtmCashIns.deleteTableStateDB}" eventsQueue="tablestatequeue"/>
					</h:panelGroup>
				</h:panelGrid>
			</h:panelGroup>
		</h:panelGroup>
	</h:form>
</ui:composition>
</html>
