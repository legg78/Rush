<?xml version="1.0" encoding="UTF-8"?>
<beanio xmlns="http://www.beanio.org/2012/03"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xsi:schemaLocation="http://www.beanio.org/2012/03 http://www.beanio.org/2012/03/mapping.xsd">

	<stream name="iinFile" format="fixedlength">
		<record name="header" minOccurs="1" maxOccurs="1" class="ru.bpc.sv2.scheduler.process.jcb.plain.IinHeader">
			<field name="dataId" at="0" length="4" rid="true" literal="HHHH" ignore="true"/>
			<field name="dataGenerationTime" at="4" length="14" regex="\d{14}"/>
			<!-- field name="filler" at="18" length="62" / -->
		</record>
		<record name="record" minOccurs="0" maxOccurs="unbounded" class="ru.bpc.sv2.scheduler.process.jcb.plain.IinRecord">
			<field name="iinLength" at="0" length="2" rid="true" type="int" regex="\d{2}"/>
			<field name="iinPrefix" at="2" length="19"/>
			<field name="licenseeId" at="21" length="6" regex="\d{6}"/>
			<field name="issuerName" at="27" length="25"/>
			<field name="brandSign" at="52" length="3"/>
			<field name="primaryAccountNumberLength" at="55" length="2" type="int" padding="0" justify="right"/>
			<field name="cardProduct" at="57" length="2" regex="\d{2}"/>
			<field name="cardGrade" at="59" length="1"/>
			<field name="issuerCountry" at="60" length="3" regex="[A-Z]{3}"/>
			<field name="currencyCode" at="63" length="3" regex="\d{3}"/>
			<field name="dccIndicator" at="66" length="1" regex="\d"/>
			<field name="retailIndicator" at="67" length="1" regex="\d"/>
			<field name="atmIndicator" at="68" length="1" regex="\d"/>
			<field name="atmRoute" at="69" length="1" regex="\d"/>
			<!-- field name="filler" at="70" length="10" / -->
		</record>
		<record name="trailer" minOccurs="1" maxOccurs="1" class="ru.bpc.sv2.scheduler.process.jcb.plain.IinTrailer">
			<field name="dataId" at="0" length="4" rid="true" literal="TTTT" ignore="true"/>
			<field name="totalRecords" at="4" length="10" type="long" regex="\d+"/>
			<!-- field name="filler" at="14" length="66" / -->
		</record>
	</stream>

	<stream name="stopDataFile" format="fixedlength">
		<record name="header" minOccurs="1" maxOccurs="1" class="ru.bpc.sv2.scheduler.process.jcb.plain.StopDataHeader">
			<field name="recordType" at="0" length="1" rid="true" literal="1" ignore="true"/>
			<field name="fileId" at="1" length="3" literal="910" ignore="true"/>
			<field name="companyId" at="4" length="5" literal="99661" ignore="true"/>
			<field name="dateOfIssue" at="9" length="6"/>
			<field name="filler" at="15" length="1" literal=" " ignore="true"/>
			<field name="fileName" at="16" length="64"/>
		</record>
		<record name="record" minOccurs="0" maxOccurs="unbounded" class="ru.bpc.sv2.scheduler.process.jcb.plain.StopDataRecord">
			<field name="recordType" at="0" length="1" rid="true" literal="2" ignore="true"/>
			<field name="jcbCardnumber" at="1" length="21" required="true"/>
			<!-- field name="filler" at="22" length="58" ignore="true" / -->
		</record>
		<record name="trailer" minOccurs="1" maxOccurs="1" class="ru.bpc.sv2.scheduler.process.jcb.plain.StopDataTrailer">
			<field name="recordType" at="0" length="1" rid="true" literal="8" ignore="true"/>
			<field name="dataCountsTotal" at="1" length="6" type="long" padding="0" justify="right"/>
			<!-- field name="filler" at="7" length="73" ignore="true" / -->
		</record>
	</stream>
</beanio>