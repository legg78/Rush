<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Recon250b" pageWidth="595" pageHeight="842" whenNoDataType="AllSectionsNoDetail" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="1d577ae9-fd86-4ff5-bcce-0686d23682eb">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<subDataset name="dataset1" uuid="275f2395-0a84-4a73-a5ee-f96f65bd2384">
		<queryString language="xPath">
			<![CDATA[/report]]>
		</queryString>
		<field name="inst_id" class="java.lang.String">
			<fieldDescription><![CDATA[/report/inst_id]]></fieldDescription>
		</field>
		<field name="inst" class="java.lang.String">
			<fieldDescription><![CDATA[/report/inst]]></fieldDescription>
		</field>
		<field name="reconciliation_date" class="java.lang.String">
			<fieldDescription><![CDATA[/report/reconciliation_date]]></fieldDescription>
		</field>
	</subDataset>
	<queryString language="xPath">
		<![CDATA[/report/reconciliation/record]]>
	</queryString>
	<field name="inst_id" class="java.lang.String">
		<fieldDescription><![CDATA[/report/inst_id]]></fieldDescription>
	</field>
	<field name="inst" class="java.lang.String">
		<fieldDescription><![CDATA[/report/inst]]></fieldDescription>
	</field>
	<field name="oper_type" class="java.lang.String">
		<fieldDescription><![CDATA[oper_type]]></fieldDescription>
	</field>
	<field name="sttl_currency" class="java.lang.String">
		<fieldDescription><![CDATA[sttl_currency]]></fieldDescription>
	</field>
	<field name="processor" class="java.lang.String">
		<fieldDescription><![CDATA[processor]]></fieldDescription>
	</field>
	<field name="recon_amount" class="java.lang.Double">
		<fieldDescription><![CDATA[recon_amount]]></fieldDescription>
	</field>
	<field name="recon_count" class="java.lang.Double">
		<fieldDescription><![CDATA[recon_count]]></fieldDescription>
	</field>
	<field name="oper_amount" class="java.lang.Double">
		<fieldDescription><![CDATA[oper_amount]]></fieldDescription>
	</field>
	<field name="oper_count" class="java.lang.Double">
		<fieldDescription><![CDATA[oper_count]]></fieldDescription>
	</field>
	<field name="not_match_record" class="java.lang.String">
		<fieldDescription><![CDATA[not_match_record]]></fieldDescription>
	</field>
	<field name="reconciliation_date" class="java.lang.String">
		<fieldDescription><![CDATA[/report/reconciliation_date]]></fieldDescription>
	</field>
	<field name="curr_name" class="java.lang.String">
		<fieldDescription><![CDATA[curr_name]]></fieldDescription>
	</field>
	<variable name="cnt_by_currency" class="java.lang.Double" resetType="Group" resetGroup="oper_type_curr_grp" calculation="Sum">
		<variableExpression><![CDATA[$F{recon_count}]]></variableExpression>
	</variable>
	<variable name="amt_by_currency" class="java.lang.Double" resetType="Group" resetGroup="oper_type_curr_grp" calculation="Sum">
		<variableExpression><![CDATA[$F{recon_amount}]]></variableExpression>
	</variable>
	<variable name="cnt_db" class="java.lang.Double" resetType="Group" resetGroup="oper_type_curr_grp" calculation="Sum">
		<variableExpression><![CDATA[$F{oper_count}]]></variableExpression>
	</variable>
	<variable name="amt_db" class="java.lang.Double" resetType="Group" resetGroup="oper_type_curr_grp" calculation="Sum">
		<variableExpression><![CDATA[$F{oper_amount}]]></variableExpression>
	</variable>
	<group name="processor_grp">
		<groupExpression><![CDATA[$F{processor}]]></groupExpression>
		<groupHeader>
			<band height="28">
				<textField isBlankWhenNull="true">
					<reportElement x="0" y="5" width="281" height="17" uuid="f1ef3fe5-2020-4958-b7c4-db20bca4a536"/>
					<box rightPadding="3">
						<topPen lineWidth="0.0"/>
						<leftPen lineWidth="0.0"/>
						<bottomPen lineWidth="0.0"/>
						<rightPen lineWidth="0.0"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="12" isBold="true" pdfEncoding="Cp1251"/>
					</textElement>
					<textFieldExpression><![CDATA[($F{processor}.equals("I")) ? "Issuing" : "Acquiring"]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
	</group>
	<group name="oper_type_curr_grp">
		<groupExpression><![CDATA[$F{sttl_currency}]]></groupExpression>
		<groupHeader>
			<band height="53">
				<staticText>
					<reportElement mode="Opaque" x="83" y="24" width="122" height="29" backcolor="#FFFFFF" uuid="523b4469-823f-4572-b4ea-7ef530cddf15"/>
					<box>
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.5"/>
						<bottomPen lineWidth="0.5"/>
						<rightPen lineWidth="0.5"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" isBold="true" pdfEncoding="Cp1251"/>
					</textElement>
					<text><![CDATA[250b-batch file's count]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Opaque" x="205" y="24" width="127" height="29" backcolor="#FFFFFF" uuid="69259e8b-4a5c-466a-bda8-9665e640b47c"/>
					<box>
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.5"/>
						<bottomPen lineWidth="0.5"/>
						<rightPen lineWidth="0.5"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" isBold="true" pdfEncoding="Cp1251"/>
					</textElement>
					<text><![CDATA[250b-batch file's amount]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Opaque" x="0" y="24" width="83" height="29" backcolor="#FFFFFF" uuid="3d69f4f0-14f1-4d00-bcf1-383a5b1e382a"/>
					<box>
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.5"/>
						<bottomPen lineWidth="0.5"/>
						<rightPen lineWidth="0.5"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" isBold="true" pdfEncoding="Cp1251"/>
					</textElement>
					<text><![CDATA[Operation type]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Opaque" x="332" y="24" width="112" height="29" backcolor="#FFFFFF" uuid="71f9adb0-589e-47ca-ac18-fe2e4436669c"/>
					<box>
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.5"/>
						<bottomPen lineWidth="0.5"/>
						<rightPen lineWidth="0.5"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" isBold="true" pdfEncoding="Cp1251"/>
					</textElement>
					<text><![CDATA[Count in DB]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Opaque" x="444" y="24" width="111" height="29" backcolor="#FFFFFF" uuid="f88d6bc8-7a2d-43f2-ae63-62f36a351736"/>
					<box>
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.5"/>
						<bottomPen lineWidth="0.5"/>
						<rightPen lineWidth="0.5"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" isBold="true" pdfEncoding="Cp1251"/>
					</textElement>
					<text><![CDATA[Amount in DB]]></text>
				</staticText>
				<textField>
					<reportElement x="0" y="4" width="267" height="17" uuid="5e11a671-587e-4b92-9a3a-5d8dffbec8d5"/>
					<box rightPadding="3">
						<topPen lineWidth="0.0"/>
						<leftPen lineWidth="0.0"/>
						<bottomPen lineWidth="0.0"/>
						<rightPen lineWidth="0.0"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" isBold="true" pdfEncoding="Cp1251"/>
					</textElement>
					<textFieldExpression><![CDATA[($F{sttl_currency}==null) ? "" : "Settlement currency: " + $F{sttl_currency} + " - " + $F{curr_name}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="24">
				<textField>
					<reportElement x="0" y="0" width="83" height="17" uuid="565412fc-0cfc-4e38-a12e-77fb952826ee"/>
					<box>
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.5"/>
						<bottomPen lineWidth="0.5"/>
						<rightPen lineWidth="0.5"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="10" isBold="true" pdfEncoding="Cp1251"/>
					</textElement>
					<textFieldExpression><![CDATA["Total currency:"]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="83" y="0" width="122" height="17" uuid="073b8d66-84a9-4210-9739-9daabaef773a"/>
					<box rightPadding="3">
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.5"/>
						<bottomPen lineWidth="0.5"/>
						<rightPen lineWidth="0.5"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Arial" size="10" isBold="true" pdfEncoding="Cp1251"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{cnt_by_currency}]]></textFieldExpression>
				</textField>
				<textField pattern="###0.00;-###0.00" isBlankWhenNull="true">
					<reportElement x="205" y="0" width="127" height="17" uuid="25ee40c1-321b-45c4-9abe-590d477ed47f"/>
					<box rightPadding="3">
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.5"/>
						<bottomPen lineWidth="0.5"/>
						<rightPen lineWidth="0.5"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Arial" size="10" isBold="true" pdfEncoding="Cp1251"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{amt_by_currency}]]></textFieldExpression>
				</textField>
				<textField pattern="###0.00;-###0.00" isBlankWhenNull="true">
					<reportElement x="444" y="0" width="111" height="17" uuid="25c861fc-55a4-47c8-8d9a-bc238b818eab"/>
					<box rightPadding="3">
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.5"/>
						<bottomPen lineWidth="0.5"/>
						<rightPen lineWidth="0.5"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Arial" size="10" isBold="true" pdfEncoding="Cp1251"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{amt_db}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="332" y="0" width="112" height="17" uuid="720e4b35-c2f8-4ee3-ba82-74648435f4ae"/>
					<box rightPadding="3">
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.5"/>
						<bottomPen lineWidth="0.5"/>
						<rightPen lineWidth="0.5"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Arial" size="10" isBold="true" pdfEncoding="Cp1251"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{cnt_db}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="75" splitType="Stretch">
			<staticText>
				<reportElement x="16" y="0" width="539" height="36" uuid="e6f9182d-9c6f-4eb3-9f23-e0d80bdd898a"/>
				<textElement>
					<font fontName="Arial" size="14" isBold="true" isUnderline="false" pdfEncoding="Cp1251"/>
				</textElement>
				<text><![CDATA[MasterCard reconciliation with 250-byte Batch Data File]]></text>
			</staticText>
			<textField>
				<reportElement x="0" y="36" width="62" height="17" uuid="2046bcb6-d3a3-4ccf-acc9-0a4751f2aa56"/>
				<textElement verticalAlignment="Top">
					<font fontName="Arial" size="12" isBold="false" pdfEncoding="Cp1251"/>
				</textElement>
				<textFieldExpression><![CDATA["Institution:"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="53" width="117" height="17" uuid="4f9067f9-2471-4c07-9b67-66be0c8c1f11"/>
				<textElement verticalAlignment="Top">
					<font fontName="Arial" size="12" isBold="false" pdfEncoding="Cp1251"/>
				</textElement>
				<textFieldExpression><![CDATA["Reconciliation date: "]]></textFieldExpression>
			</textField>
			<componentElement>
				<reportElement x="117" y="53" width="345" height="17" uuid="eca2e5b9-10ea-45a2-abac-b8ac546b7029"/>
				<jr:list xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" printOrder="Vertical">
					<datasetRun subDataset="dataset1" uuid="575603c2-05d6-40a7-9204-d4e4276c6227">
						<dataSourceExpression><![CDATA[((net.sf.jasperreports.engine.data.JRXmlDataSource)$P{REPORT_DATA_SOURCE}).dataSource("/report")]]></dataSourceExpression>
					</datasetRun>
					<jr:listContents height="17" width="345">
						<textField>
							<reportElement x="0" y="0" width="239" height="17" uuid="1df5ed54-cff3-4ffb-9cec-9697d7691bfb"/>
							<textElement>
								<font fontName="Arial" size="12" pdfEncoding="Cp1251"/>
							</textElement>
							<textFieldExpression><![CDATA[$F{reconciliation_date}]]></textFieldExpression>
						</textField>
					</jr:listContents>
				</jr:list>
			</componentElement>
			<componentElement>
				<reportElement x="62" y="36" width="400" height="17" uuid="ed0bf6c8-3693-45bb-b758-8cfa02649f31"/>
				<jr:list xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" printOrder="Vertical">
					<datasetRun subDataset="dataset1" uuid="7c93f285-8c83-4660-8638-c773206f7c80">
						<dataSourceExpression><![CDATA[((net.sf.jasperreports.engine.data.JRXmlDataSource)$P{REPORT_DATA_SOURCE}).dataSource("/report")]]></dataSourceExpression>
					</datasetRun>
					<jr:listContents height="17" width="400">
						<textField>
							<reportElement x="0" y="0" width="371" height="17" uuid="23480258-7302-4f58-87e4-4659022be35c"/>
							<textElement>
								<font fontName="Arial" size="12" pdfEncoding="Cp1251"/>
							</textElement>
							<textFieldExpression><![CDATA[($F{inst}.equals("0")) ? "All" : $F{inst_id} + " - " + $F{inst}]]></textFieldExpression>
						</textField>
					</jr:listContents>
				</jr:list>
			</componentElement>
		</band>
	</title>
	<detail>
		<band height="17" splitType="Stretch">
			<textField>
				<reportElement x="83" y="0" width="122" height="17" uuid="65d369d6-9fe5-4377-8420-7111da198eb6"/>
				<box rightPadding="3">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" pdfEncoding="Cp1251"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{recon_count}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="16" y="0" width="67" height="17" uuid="c309a74d-2103-4ac2-acb9-b38e3850f5f1"/>
				<box>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" pdfEncoding="Cp1251"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{oper_type}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="205" y="0" width="127" height="17" uuid="8fc4a40c-887f-4f87-910f-6c4c0f6d4c4b"/>
				<box rightPadding="3">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" pdfEncoding="Cp1251"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{recon_amount}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="332" y="0" width="112" height="17" uuid="b50d4efd-861e-499d-afb8-37d0d7fac394"/>
				<box rightPadding="3">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" pdfEncoding="Cp1251"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{oper_count}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="444" y="0" width="111" height="17" uuid="a7fe1897-9c18-40e2-84e4-3f9000d834be"/>
				<box rightPadding="3">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" pdfEncoding="Cp1251"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{oper_amount}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="0" width="16" height="17" uuid="06cc7992-a105-4f3a-8b37-cb13db9e3614"/>
				<box>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="12" isBold="true" pdfEncoding="Cp1251"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{not_match_record}.equals("1")) ? "*" : ""]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
