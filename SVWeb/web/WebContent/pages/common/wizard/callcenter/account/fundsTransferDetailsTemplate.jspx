<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:bpct="http://www.bpc.ru/jsf/tiles" xmlns:bre="http://www.bpc.ru/jsf/richfaces-ext"
      xmlns:rich="http://richfaces.org/rich" xmlns:a4j="http://richfaces.org/a4j"
      xmlns:fmt="http://www.bpc.ru/el/formatter">
<ui:composition>
    <f:loadBundle var="lblAtm" basename="ru.bpc.sv2.ui.bundles.Atm" />
    <f:loadBundle var="lblNet" basename="ru.bpc.sv2.ui.bundles.Net" />
    <f:loadBundle var="lblPrs" basename="ru.bpc.sv2.ui.bundles.Prs" />
    <f:loadBundle var="lblPrd" basename="ru.bpc.sv2.ui.bundles.Prd" />
    <f:loadBundle var="lblCommon" basename="ru.bpc.sv2.ui.bundles.Common" />
    <f:loadBundle var="lblAcc" basename="ru.bpc.sv2.ui.bundles.Acc" />

    <h:panelGroup layout="block" style="height:398px;width:900px;overflow:auto;">
        <h:panelGroup id="cardDetailsWrapper" layout="block" styleClass="carddata-wrapper"
                      style="height: 100%; width:44%; float:left;
                      border-right: 1px solid rgb(215, 218, 194);overflow:hidden;">
            <rich:dataTable id="cardDetailsTable" value="#{MbAccountFundsTransferDS.emptyTable}"
                            var="field" styleClass="res-table noHeader" width="100%">
                <rich:columnGroup rowClasses=",odd" columnClasses="firstCol alignLeft width20, width80 width250 noPadding ">
                    <rich:column styleClass="detailsCategory expandedBranch">
                        <h:graphicImage url="/images/minus.gif" onclick="showHideDetails(this)" />
                        <h:outputLabel value="#{lblAcc.account}:" />
                    </rich:column>

                    <rich:column breakBefore="true">
                        <h:outputLabel for="accountType" title="#{lblAcc.account_type}" value="#{lblAcc.account_type}:" />
                    </rich:column>
                    <rich:column>
                        <h:outputLabel id="accountType"
                                       value="#{MbAccountFundsTransferDS.sourceAccount.accountType} - #{DictUtils.allArticlesDesc[MbAccountFundsTransferDS.sourceAccount.accountType]}"
                                       title="#{MbAccountFundsTransferDS.sourceAccount.accountType} - #{DictUtils.allArticlesDesc[MbAccountFundsTransferDS.sourceAccount.accountType]}" />
                    </rich:column>

                    <rich:column breakBefore="true">
                        <h:outputLabel value="#{lblCommon.currency}: " title="#{lblCommon.currency}" />
                    </rich:column>
                    <rich:column>
                        <div class="#{EntityIcons.objectsMapS['ENTT0046'][MbAccountFundsTransferDS.sourceAccount.currency]}" />
                        <h:outputLabel
                                value="#{MbAccountFundsTransferDS.sourceAccount.currency} - #{CurrencyUtils.currencyObjectsMap[MbAccountFundsTransferDS.sourceAccount.currency].currencyName}"
                                title="#{MbAccountFundsTransferDS.sourceAccount.currency} - #{CurrencyUtils.currencyMap[MbAccountFundsTransferDS.sourceAccount.currency]}"
                                rendered="#{MbAccountFundsTransferDS.sourceAccount != null}" />
                        <h:outputLabel value="" rendered="#{MbAccountFundsTransferDS.sourceAccount == null}" />
                    </rich:column>

                    <rich:column breakBefore="true">
                        <h:outputLabel for="balance" title="#{lblAcc.available_balance}" value="#{lblAcc.available_balance}:" />
                    </rich:column>
                    <rich:column>
                        <h:outputLabel id="balance"
                                       value="#{fmt:formatMoney(MbAccountFundsTransferDS.sourceAccount.balance, CurrencyUtils.currencyObjectsMap[MbAccountFundsTransferDS.sourceAccount.currency].exponent)}"
                                       title="#{fmt:formatMoney(MbAccountFundsTransferDS.sourceAccount.balance, CurrencyUtils.currencyObjectsMap[MbAccountFundsTransferDS.sourceAccount.currency].exponent)}"
                                       label="#{lblAcc.available_balance}">
                        </h:outputLabel>
                    </rich:column>

                </rich:columnGroup>
                <rich:columnGroup rowClasses=",odd"
                                  columnClasses="firstCol alignLeft width20, width80 width250 noPadding">
                    <rich:column styleClass="detailsCategory expandedBranch">
                        <h:graphicImage url="/images/minus.gif" onclick="showHideDetails(this)" />
                        <h:outputLabel value="#{lblIss.customer}:" />
                    </rich:column>

                    <rich:column breakBefore="true">
                        <h:outputLabel for="customerType" title="#{lblPrd.customer_type}" value="#{lblPrd.customer_type}:" />
                    </rich:column>
                    <rich:column>
                        <h:outputLabel id="customerType"
                                       value="#{MbAccountFundsTransferDS.customer.entityType}  - #{DictUtils.allArticlesDesc[MbAccountFundsTransferDS.customer.entityType]}"
                                       title="#{MbAccountFundsTransferDS.customer.entityType}  - #{DictUtils.allArticlesDesc[MbAccountFundsTransferDS.customer.entityType]}"
                                       label="#{lblPrd.customer_type}">
                        </h:outputLabel>
                    </rich:column>

                    <rich:column breakBefore="true">
                        <h:outputLabel for="name" title="#{lblCommon.name}" value="#{lblCommon.name}:" />
                    </rich:column>
                    <rich:column>
                        <h:outputLabel id="name"
                                       value="#{MbAccountFundsTransferDS.customer.name}" title="#{MbAccountFundsTransferDS.customer.name}"
                                       label="#{lblCommon.name}">
                        </h:outputLabel>
                    </rich:column>

                    <rich:column breakBefore="true">
                        <h:outputLabel for="contractType" title="#{lblPrd.contract_type}" value="#{lblPrd.contract_type}:" />
                    </rich:column>
                    <rich:column>
                        <h:outputLabel id="contractType"
                                       value="#{MbAccountFundsTransferDS.customer.contract.contractType} - #{DictUtils.allArticlesDesc[MbAccountFundsTransferDS.customer.contract.contractType]}"
                                       title="#{MbAccountFundsTransferDS.customer.contract.contractType} - #{DictUtils.allArticlesDesc[MbAccountFundsTransferDS.customer.contract.contractType]}"
                                       label="#{lblPrd.contract_type}">
                        </h:outputLabel>
                    </rich:column>

                    <rich:column breakBefore="true">
                        <h:outputLabel for="startDate" title="#{lblCommon.start_date}" value="#{lblCommon.start_date}:" />
                    </rich:column>
                    <rich:column>
                        <h:outputLabel id="startDate"
                                       value="#{MbAccountFundsTransferDS.customer.contract.startDate}" title="#{MbAccountFundsTransferDS.customer.contract.startDate}">
                            <f:convertDateTime pattern="#{usession.datePattern}" timeZone="#{CommonUtils.timeZone}" />
                        </h:outputLabel>
                    </rich:column>

                    <rich:column breakBefore="true">
                        <h:outputLabel for="contractNumber" title="#{lblPrd.contract_number}" value="#{lblPrd.contract_number}:" />
                    </rich:column>
                    <rich:column>
                        <h:outputLabel id="contractNumber"
                                       value="#{MbAccountFundsTransferDS.customer.contract.contractNumber}"
                                       title="#{MbAccountFundsTransferDS.customer.contract.contractNumber}"
                                       label="#{lblPrd.contract_number}">
                        </h:outputLabel>
                    </rich:column>

                </rich:columnGroup>
            </rich:dataTable>
        </h:panelGroup>

        <h:panelGroup layout="block" style="float:left;height:100%;overflow:auto;width:55.8%">
            <ui:insert name="stepContent" />
        </h:panelGroup>
    </h:panelGroup>
</ui:composition>
</html>
