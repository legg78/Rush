<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:bpct="http://www.bpc.ru/jsf/tiles" xmlns:bre="http://www.bpc.ru/jsf/richfaces-ext"
	xmlns:rich="http://richfaces.org/rich" xmlns:a4j="http://richfaces.org/a4j"
	xmlns:bpc="http://www.bpc.ru/jsf/misc">
	<ui:composition template="./../accDetailsTemplate.jspx">
		<ui:define name="stepContent">
            <!--@elvariable id="stepBean" type="ru.bpc.sv2.ui.common.wizard.callcenter.account.MbAccountBalanceDS"-->
			<f:loadBundle var="lblCommon" basename="ru.bpc.sv2.ui.bundles.Common" />
			<f:loadBundle var="lblAcc" basename="ru.bpc.sv2.ui.bundles.Acc" />
			<f:loadBundle var="lblOpr" basename="ru.bpc.sv2.ui.bundles.Opr" />

			<h:form id="balanceCorrectionDSForm" style="padding:10px;">
				<ui:include src="/pages/common/wizard/commonWizardActions.jspx">
					<ui:param name="bean" value="#{bean}" />
					<ui:param name="action" value="#{action}" />
				</ui:include>
				<h:panelGroup layout="block" styleClass="cardholderdata-wrapper">
					<h:panelGrid columns="2" styleClass="cardholderdata"
						columnClasses="width-150, width250">

						<h:outputLabel for="operAmount" title="#{lblOpr.operation_amount}"
							value="* #{lblOpr.operation_amount}:" />

						<h:panelGrid columns="1" cellpadding="0" cellspacing="0">
							<h:inputText id="operAmount" value="#{stepBean.operAmount}"
								label="#{lblOpr.operation_amount}" onblur="hideErrorField(this)"
								onkeypress="if (!numbersOnly(this, event, true)) return false;">
								<bpc:numericMaskConverter numericType="bigdecimal"/>
								<f:attribute name="decDigits" value="#{stepBean.currency.exponent}"/>
								<a4j:support event="onchange" ajaxSingle="true"
									reRender="operAmountErr" limitToList="true" />
							</h:inputText>
							<bpc:jsMask for="operAmount" decDigits="#{stepBean.currency.exponent}" />
							<h:message id="operAmountErr" for="operAmount" styleClass="errorMarker" />
							<h:outputFormat value="#{lblMsg.value_request}" styleClass="errorMarker"
								id="operAmountError" style="display:none;">
								<f:param name="fieldName" value="#{lblOpr.operation_amount}"/>
							</h:outputFormat>
						</h:panelGrid>
						
						<h:outputLabel for="reason" title="#{lblCommon.reason}"
							value="* #{lblCommon.reason}:" />

						<h:panelGrid columns="1" cellpadding="0" cellspacing="0">
							<h:selectOneMenu id="reason" onblur="hideErrorField(this)"
								value="#{stepBean.operReason}" label="#{lblCommon.reason}">
								<f:selectItem itemValue="" />
								<f:selectItems value="#{stepBean.operReasons}" />
							</h:selectOneMenu>

							<h:outputFormat value="#{lblMsg.value_request}" styleClass="errorMarker"
								id="reasonError" style="display:none;">
								<f:param name="fieldName" value="#{lblCommon.reason}"/>
							</h:outputFormat>
						</h:panelGrid>
						

					</h:panelGrid>
				</h:panelGroup>
			</h:form>
		</ui:define>
	</ui:composition>
</html>
