create or replace type opr_ui_operation_list_tpr as object (
    id                          number(16)
  , session_id                  number(16)
  , is_reversal                 number(1)
  , original_id                 number(16)
  , oper_type                   varchar2(8)
  , oper_reason                 varchar2(8)
  , msg_type                    varchar2(8)
  , status                      varchar2(8)
  , status_reason               varchar2(8)
  , sttl_type                   varchar2(8)
  , sttl_amount                 number(22,4)
  , sttl_currency               varchar2(3)
  , acq_inst_bin                varchar2(12)
  , forw_inst_bin               varchar2(12)
  , terminal_number             varchar2(16)
  , terminal_type               varchar2(8)
  , merchant_number             varchar2(15)
  , merchant_name               varchar2(200)
  , merchant_street             varchar2(200)
  , merchant_city               varchar2(200)
  , merchant_region             varchar2(3)
  , merchant_country            varchar2(3)
  , merchant_postcode           varchar2(10)
  , mcc                         varchar2(4)
  , originator_refnum           varchar2(36)
  , network_refnum              varchar2(36)
  , oper_count                  number(16)
  , oper_request_amount         number(22,4)
  , oper_amount_algorithm       varchar2(8)
  , oper_amount                 number(22,4)
  , oper_currency               varchar2(3)
  , oper_cashback_amount        number(22,4)
  , oper_replacement_amount     number(22,4)
  , oper_surcharge_amount       number(22,4)
  , oper_date                   date
  , host_date                   date
  , unhold_date                 date
  , match_status                varchar2(8)
  , match_id                    number(16)
  , dispute_id                  number(16)
  , payment_order_id            number(16)
  , payment_host_id             number(4)
  , forced_processing           number(1)
  , auth_code                   varchar2(6)
  , iss_inst_id                 number(4)
  , iss_network_id              number(4)
  , card_network_id             number(4)
  , acq_inst_id                 number(4)
  , acq_network_id              number(4)
  , iss_client_id_type          varchar2(8)
  , iss_client_id_value         varchar2(200)
  , iss_card_number             varchar2(24)
  , acq_client_id_type          varchar2(8)
  , acq_client_id_value         varchar2(200)
  , acq_card_number             varchar2(24)
  , iss_account_number          varchar2(32)
  , acq_account_number          varchar2(32)
  , mcc_id                      number(4)
  , external_auth_id            varchar2(30)
  -- calculated columns
  , is_calculated               number(1)
  , array_index                 number(8)
  , reversal_exists             number(1)
  , client_id_type              varchar2(8)
  , client_id_value             varchar2(200)
  , mcc_name                    varchar2(200)
  , iss_inst_name               varchar2(200)
  , iss_network_name            varchar2(200)
  , card_network_name           varchar2(200)
  , acq_inst_name               varchar2(200)
  , acq_network_name            varchar2(200)
  , terminal_type_name          varchar2(200)
)
/
alter type opr_ui_operation_list_tpr add attribute iss_card_token varchar2(24) invalidate
/
