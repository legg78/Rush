<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:bre="http://www.bpc.ru/jsf/richfaces-ext">
<ui:composition>
	<script type="text/javascript">
        //<![CDATA[
        function handleEnter(event) {
            if (event.keyCode == 13) {
                document.getElementById('groupsSearchForm:searchBtn').click();
                return false;
            }
            return true;
        }
        //]]>
	</script>

	<h:form id="groupsSearchForm" onkeypress="handleEnter(event)">
		<h:panelGroup styleClass="search_block" layout="block">
			<h:panelGroup layout="block" styleClass="search_block_inner1">
				<h:panelGroup layout="block" styleClass="search_block_inner2">
					<h:panelGroup styleClass="search_block_left" layout="block">
						<h:panelGrid styleClass="fw" columns="2" columnClasses="top ,link-cont">
							<h:panelGrid styleClass="filter-table field-cont twoColumnTable" columns="4"
							             columnClasses="firstCol,secondCol,firstCol,secondCol">
								<h:outputText value="#{lblCommon.id}:" title="#{lblCommon.id}"/>
								<h:inputText id="group_id" value="#{MbUserGroupsSearch.filter.id}"/>

								<h:outputText value="#{lblCommon.name}:" title="#{lblCommon.name}"/>
								<h:inputText value="#{MbUserGroupsSearch.filter.name}"/>

								<h:outputText value="#{lblCommon.institution}:" title="#{lblCommon.institution}"/>
								<h:selectOneMenu id="institute" value="#{MbUserGroupsSearch.filter.instId}">
									<f:selectItem itemValue=""/>
									<f:selectItems value="#{DictUtils.institutes}"/>
								</h:selectOneMenu>
							</h:panelGrid>

							<h:panelGrid columns="1">
								<bre:taggedCommandButton value="#{lblForm.search}"
								                         style="width:85px;"
								                         reRender="mainTable, dsGroups, pagesNum, groupsBtns, #{MbUserGroupsSearch.tabName}"
								                         action="#{MbUserGroupsSearch.search}"
								                         id="searchBtn"
								                         image="/_img/icon_search.png" type="submit"
								                         onclick="disableModalPanelBtns(this);"
								                         oncomplete="enableModalPanelBtns(this);"
								                         eventsQueue="queue"/>
								<h:panelGroup styleClass="link-clear" layout="block">
									<h:graphicImage url="/_img/icon_clear.png"/>
									<a4j:commandLink value="#{lblForm.clear_all}"
									                 action="#{MbUserGroupsSearch.clearFilter}"
									                 reRender="groupsSearchForm, groupsForm, #{MbUserGroupsSearch.tabName}, groupsBtnForm">
									</a4j:commandLink>
								</h:panelGroup>
							</h:panelGrid>
						</h:panelGrid>
						<a4j:outputPanel ajaxRendered="true">
							<h:graphicImage url="/_img/hd_searchblock.gif" styleClass="hd-searchblock"/>
							<h:panelGroup styleClass="collapse-vert" layout="block"/>
						</a4j:outputPanel>
					</h:panelGroup>
				</h:panelGroup>
			</h:panelGroup>
		</h:panelGroup>
		<script type="text/javascript">
            //<![CDATA[
            x$('#groupsSearchForm:group_id').inputValidation({numbersOnly: true, maxLength: 9});
            //]]>
		</script>
	</h:form>
</ui:composition>
</html>
